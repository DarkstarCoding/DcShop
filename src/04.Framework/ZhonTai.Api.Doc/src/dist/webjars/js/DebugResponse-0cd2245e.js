import{_ as F}from"./mermaid-cefb411a.js";import{C as R,d as S,i as N,s as H,j as M,n as O,T as A}from"./ant-design-vue-7939988e.js";import{_ as V,a as W,u as p}from"./index-8ff70305.js";import{C as D}from"./clipboard-52f3d9f6.js";import{u as U}from"./vue-i18n-48149f47.js";import{T as L}from"./@ant-design-54a0d12d.js";import{a6 as q,f as J,W as I,X as m,$ as g,Z as s,c as n,a0 as a,a1 as u,a2 as E,Y as j,E as x}from"./@vue-963d0241.js";import"./dayjs-594ccbfa.js";import"./@babel-f22c9f32.js";import"./@braintree-9b6e9674.js";import"./d3-transition-dcb2c4ce.js";import"./d3-dispatch-4199cc96.js";import"./d3-timer-8bbb3adf.js";import"./d3-interpolate-23596b47.js";import"./d3-color-568b2243.js";import"./d3-selection-de98f9a2.js";import"./d3-ease-6a302484.js";import"./d3-zoom-a2c53521.js";import"./dompurify-0c4e1f83.js";import"./dagre-d3-es-ecbf9480.js";import"./lodash-es-027f92d5.js";import"./d3-shape-8fda5547.js";import"./d3-path-41c4cb36.js";import"./d3-fetch-5dc2c9dc.js";import"./khroma-dc7cc5cc.js";import"./uuid-80707d31.js";import"./d3-scale-0fe34040.js";import"./internmap-7949acc8.js";import"./d3-array-f46ca9a0.js";import"./d3-format-ffdb8652.js";import"./d3-time-format-8d6e99ce.js";import"./d3-time-e3072704.js";import"./d3-axis-8d489beb.js";import"./elkjs-86b86e03.js";import"./ts-dedent-356e4a49.js";import"./stylis-fad5b415.js";import"./mdast-util-from-markdown-32388d6f.js";import"./micromark-24282579.js";import"./micromark-util-combine-extensions-34ef5cdc.js";import"./micromark-util-chunked-6f054bfc.js";import"./micromark-factory-space-62b287c8.js";import"./micromark-util-character-b4c2c3b7.js";import"./micromark-core-commonmark-c7408300.js";import"./micromark-util-classify-character-b0dd44a1.js";import"./micromark-util-resolve-all-8a85a8df.js";import"./decode-named-character-reference-29ded5ae.js";import"./micromark-util-subtokenize-d9357da7.js";import"./micromark-factory-destination-cef6acfb.js";import"./micromark-factory-label-01414396.js";import"./micromark-factory-title-1a18636a.js";import"./micromark-factory-whitespace-7a4e1cef.js";import"./micromark-util-normalize-identifier-dfdf0387.js";import"./micromark-util-html-tag-name-eaa6d7c0.js";import"./micromark-util-decode-numeric-character-reference-bd25dc10.js";import"./micromark-util-decode-string-02bf9559.js";import"./unist-util-stringify-position-7b16d8bf.js";import"./mdast-util-to-string-bfd41500.js";import"./cytoscape-9984022b.js";import"./cytoscape-cose-bilkent-7a02157b.js";import"./cose-base-062de851.js";import"./layout-base-089b2bf3.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./@ctrl-fb5a5473.js";import"./dom-align-ecb06dd6.js";import"./pinia-c4c0f489.js";import"./vue-router-ea0bd7e7.js";import"./localforage-5e17476c.js";import"./marked-c4f1ef09.js";import"./lodash-bf2603fc.js";import"./js-md5-774453ff.js";import"./async-ba739671.js";import"./axios-f38c850f.js";import"./vue3-ace-editor-f0da59bd.js";import"./ace-builds-a464a6c2.js";import"./@intlify-ada814d3.js";const K={props:{api:{type:Object,required:!0},swaggerInstance:{type:Object,required:!0},debugSend:{type:Boolean,default:!1},responseHeaders:{type:Array},responseRawText:{type:String,default:""},responseCurlText:{type:String,default:""},responseStatus:{type:Object},responseContent:{type:Object},responseFieldDescriptionChecked:{type:Boolean,default:!0}},components:{CopyOutlined:L,EditorDebugShow:q(()=>F(()=>import("./EditorDebugShow-bc772c66.js"),["./EditorDebugShow-bc772c66.js","./vue3-ace-editor-f0da59bd.js","./ace-builds-a464a6c2.js","./@babel-f22c9f32.js","./resize-observer-polyfill-0f9f8adb.js","./@vue-963d0241.js","./index-8ff70305.js","./ant-design-vue-7939988e.js","./dayjs-594ccbfa.js","./@ant-design-54a0d12d.js","./@ctrl-fb5a5473.js","./lodash-es-027f92d5.js","./async-validator-dee29e8b.js","./scroll-into-view-if-needed-6b992d05.js","./compute-scroll-into-view-183f845a.js","./vue-types-ef06c517.js","./dom-align-ecb06dd6.js","..\\css\\ant-design-vue-b699a532.css","./pinia-c4c0f489.js","./mermaid-cefb411a.js","./@braintree-9b6e9674.js","./d3-transition-dcb2c4ce.js","./d3-dispatch-4199cc96.js","./d3-timer-8bbb3adf.js","./d3-interpolate-23596b47.js","./d3-color-568b2243.js","./d3-selection-de98f9a2.js","./d3-ease-6a302484.js","./d3-zoom-a2c53521.js","./dompurify-0c4e1f83.js","./dagre-d3-es-ecbf9480.js","./d3-shape-8fda5547.js","./d3-path-41c4cb36.js","./d3-fetch-5dc2c9dc.js","./khroma-dc7cc5cc.js","./uuid-80707d31.js","./d3-scale-0fe34040.js","./internmap-7949acc8.js","./d3-array-f46ca9a0.js","./d3-format-ffdb8652.js","./d3-time-format-8d6e99ce.js","./d3-time-e3072704.js","./d3-axis-8d489beb.js","./elkjs-86b86e03.js","./ts-dedent-356e4a49.js","./stylis-fad5b415.js","./mdast-util-from-markdown-32388d6f.js","./micromark-24282579.js","./micromark-util-combine-extensions-34ef5cdc.js","./micromark-util-chunked-6f054bfc.js","./micromark-factory-space-62b287c8.js","./micromark-util-character-b4c2c3b7.js","./micromark-core-commonmark-c7408300.js","./micromark-util-classify-character-b0dd44a1.js","./micromark-util-resolve-all-8a85a8df.js","./decode-named-character-reference-29ded5ae.js","./micromark-util-subtokenize-d9357da7.js","./micromark-factory-destination-cef6acfb.js","./micromark-factory-label-01414396.js","./micromark-factory-title-1a18636a.js","./micromark-factory-whitespace-7a4e1cef.js","./micromark-util-normalize-identifier-dfdf0387.js","./micromark-util-html-tag-name-eaa6d7c0.js","./micromark-util-decode-numeric-character-reference-bd25dc10.js","./micromark-util-decode-string-02bf9559.js","./unist-util-stringify-position-7b16d8bf.js","./mdast-util-to-string-bfd41500.js","./cytoscape-9984022b.js","./cytoscape-cose-bilkent-7a02157b.js","./cose-base-062de851.js","./layout-base-089b2bf3.js","./vue-router-ea0bd7e7.js","./vue-i18n-48149f47.js","./@intlify-ada814d3.js","./localforage-5e17476c.js","./marked-c4f1ef09.js","./lodash-bf2603fc.js","./js-md5-774453ff.js","./async-ba739671.js","./axios-f38c850f.js","..\\css\\index-f3f08b18.css"],import.meta.url))},setup(){const t=W(),o=J(()=>t.language),{messages:e}=U();return{language:o,messages:e}},data(){return{pagination:!1,i18n:null,base64Image:!1,debugResponse:!0,responseHeaderColumn:[]}},watch:{language:function(t,o){this.initI18n()}},computed:{responseSizeText(){var t="0 B",o=this.responseStatus;if(o!=null&&o!=null){var e=o.size,d=(e/1024).toFixed(2),r=(e/1024/1024).toFixed(2);d>1?t=d+" KB":r>1?t=r+" MB":t=e+" B"}return t}},created(){this.initI18n(),this.copyRawText(),this.copyCurlText()},methods:{getCurrentI18nInstance(){return this.messages[this.language]},base64Init(){var t=p.getValue(this.responseContent,"base64","",!0);p.strNotBlank(t)&&(this.base64Image=!0)},initI18n(){this.i18n=this.getCurrentI18nInstance(),this.responseHeaderColumn=this.i18n.table.debugResponseHeaderColumns},copyRawText(){var t=this,o="btnDebugCopyRaw"+this.api.id,e=new D("#"+o,{text(){return t.responseRawText}}),d=this.i18n.message.copy.raw.success,r=this.i18n.message.copy.raw.fail;e.on("success",function(l){t.$message.info(d)}),e.on("error",function(l){t.$message.info(r)})},copyCurlText(){var t=this,o="btnDebugCopyCurl"+this.api.id,e=new D("#"+o,{text(){return t.responseCurlText}}),d=this.i18n.message.copy.curl.success,r=this.i18n.message.copy.curl.fail;e.on("success",function(l){t.$message.info(d)}),e.on("error",function(l){t.$message.info(r)})},resetResponseContent(){if(this.responseContent!=null&&this.responseContent.mode=="json"){const t=this.responseContent.text;this.responseContent.text=p.json5stringify(p.json5parse(t))}},showFieldDesChange(t){var o=t.target.checked;this.$emit("debugShowFieldDescriptionChange",o),this.toggleFieldDescription(o)},debugEditorChange(t){this.$emit("debugEditorChange",t)},toggleFieldDescription(t){var o="responseEditorContent"+this.api.id,e=document.getElementById(o),d=e.getElementsByClassName("knife4j-debug-editor-field-description");p.arrNotEmpty(d)?d.forEach(function(r){t?r.style.display="block":r.style.display="none"}):this.showEditorFieldAnyWay()},showEditorFieldDescription(t){var o=this;p.checkUndefined(t)&&parseInt(t)<=200&&setTimeout(()=>{o.showEditorFieldWait()},100)},showEditorFieldWait(){this.debugSend&&this.responseFieldDescriptionChecked&&this.responseContent.mode=="json"&&this.showEditorFieldAnyWay()},showEditorFieldAnyWay(){var t=this.swaggerInstance,o=this.api.getHttpSuccessCodeObject(),e="responseEditorContent"+this.api.id,d=document.getElementById(e),r=[],l=d.getElementsByClassName("ace_text-layer"),y=0,i=d.querySelector(".ace_print-margin");if(p.checkUndefined(i)&&p.checkUndefined(i.style)&&(y=i.style.left),l.length>0)for(var _=l[0].getElementsByClassName("ace_line"),b=0;b<_.length;b++){var c=_[b],C=c.getElementsByClassName("ace_variable"),h=null;if(p.arrNotEmpty(C)){h=p.toString(C[0].innerHTML,"").replace(/^"(.*)"$/g,"$1");var v=c.getElementsByClassName("knife4j-debug-editor-field-description");if(!p.arrNotEmpty(v)){var f=document.createElement("span");f.className="knife4j-debug-editor-field-description",f.innerHTML=o.responseDescriptionFind(r,h,t),f.style.left=y,c.appendChild(f)}}var k=c.getElementsByClassName("ace_paren");if(p.arrNotEmpty(k)){for(var B=[],w=0;w<k.length;w++)B.push(k[w].innerHTML);var T=B.join("");switch(T){case"[":case"{":r.push(h||0);break;case"}":case"]":r.pop();break}}}}}},P={slot:"tabBarExtraContent"},z={style:{color:"#919191"}},G={class:"key"},X={class:"value"},Y={class:"key"},Z={class:"value"},Q={class:"key"},$={class:"value"},ee={key:0},te=["src"],se={key:1},oe=["id"],ne={class:"knife4j-debug-response-curl"},re=["src"];function ie(t,o,e,d,r,l){const y=R,i=S,_=N,b=I("editor-debug-show"),c=H,C=I("CopyOutlined"),h=M,v=O,f=A;return m(),g(i,{class:"knife4j-debug-response"},{default:s(()=>[e.debugSend?(m(),g(i,{key:0},{default:s(()=>[n(f,{defaultActiveKey:"debugResponse"},{default:s(()=>[a("template",P,[e.responseStatus?(m(),g(i,{key:0,class:"knife4j-debug-status"},{default:s(()=>[a("span",null,[n(y,{defaultChecked:e.responseFieldDescriptionChecked,onChange:l.showFieldDesChange},{default:s(()=>[a("span",z,u(t.$t("debug.response.showDes")),1)]),_:1},8,["defaultChecked","onChange"])]),a("span",G,u(t.$t("debug.response.code")),1),a("span",X,u(e.responseStatus.code),1),a("span",Y,u(t.$t("debug.response.cost")),1),a("span",Z,u(e.responseStatus.cost),1),a("span",Q,u(t.$t("debug.response.size")),1),a("span",$,u(l.responseSizeText),1)]),_:1})):E("",!0)]),n(c,{tab:r.i18n.debug.response.content,key:"debugResponse"},{default:s(()=>[e.responseContent?(m(),g(i,{key:0},{default:s(()=>[e.responseContent.blobFlag?(m(),g(i,{key:0},{default:s(()=>[e.responseContent.imageFlag?(m(),j("div",ee,[a("img",{src:e.responseContent.blobUrl},null,8,te)])):(m(),j("div",se,[n(_,{type:"link",href:e.responseContent.blobUrl,download:e.responseContent.blobFileName},{default:s(()=>[x(u(t.$t("debug.response.download")),1)]),_:1},8,["href","download"])]))]),_:1})):(m(),j("div",{key:1,id:"responseEditorContent"+e.api.id},[n(b,{onShowDescription:l.showEditorFieldDescription,onDebugEditorChange:l.debugEditorChange,debugResponse:r.debugResponse,value:e.responseContent.text,mode:e.responseContent.mode},null,8,["onShowDescription","onDebugEditorChange","debugResponse","value","mode"])],8,oe))]),_:1})):E("",!0)]),_:1},8,["tab"]),n(c,{tab:"Raw",key:"debugRaw",forceRender:""},{default:s(()=>[n(i,{class:"knife4j-debug-response-mt"},{default:s(()=>[n(_,{id:"btnDebugCopyRaw"+e.api.id,type:"primary"},{default:s(()=>[n(C),x(),a("span",null,u(t.$t("debug.response.copy")),1)]),_:1},8,["id"])]),_:1}),n(i,{class:"knife4j-debug-response-mt"},{default:s(()=>[n(h,{rows:10,value:e.responseRawText},null,8,["value"])]),_:1})]),_:1}),n(c,{tab:"Headers",key:"debugHeaders"},{default:s(()=>[n(i,{class:"knife4j-debug-response-mt"},{default:s(()=>[n(v,{bordered:"",size:"small",columns:r.responseHeaderColumn,pagination:r.pagination,dataSource:e.responseHeaders,rowKey:"id"},null,8,["columns","pagination","dataSource"])]),_:1})]),_:1}),n(c,{tab:"Curl",key:"debugCurl"},{default:s(()=>[n(i,{class:"knife4j-debug-response-mt"},{default:s(()=>[n(_,{id:"btnDebugCopyCurl"+e.api.id,type:"primary"},{default:s(()=>[n(C),x(),a("span",null,u(t.$t("debug.response.copy")),1)]),_:1},8,["id"])]),_:1}),n(i,{class:"knife4j-debug-response-mt"},{default:s(()=>[a("pre",ne,u(e.responseCurlText),1)]),_:1})]),_:1}),e.responseContent!=null&&e.responseContent.base64!=null&&e.responseContent.base64!=""?(m(),g(c,{tab:"Base64Img",key:"debugBase64Img"},{default:s(()=>[n(i,{class:"knife4j-debug-response-mt"},{default:s(()=>[a("img",{src:e.responseContent.base64},null,8,re)]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1})):(m(),g(i,{key:1}))]),_:1})}const Rt=V(K,[["render",ie]]);export{Rt as default};
