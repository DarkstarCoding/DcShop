import{_ as G}from"./mermaid-cefb411a.js";import{m as L,k as te,l as ae,I as ie,i as re,x as ne,f as se,d as le,h as oe,a as de,n as ue,s as he,R as fe,y as me,b as ce,M as pe,D as ge,T as we,S as ve}from"./ant-design-vue-7939988e.js";import{q as be}from"./qs-08c6a54e.js";import{u as s,l as R,c as T,_ as ye,a as Fe,b as Ce}from"./index-d84fb973.js";import{D as W}from"./axios-f38c850f.js";import{c as ke}from"./lodash-bf2603fc.js";import{u as Se}from"./vue-i18n-48149f47.js";import{U as De,D as _e}from"./@ant-design-54a0d12d.js";import{a6 as z,f as Y,W as M,X as w,Y as I,c,Z as h,a0 as _,_ as A,a2 as D,a5 as Te,E as y,a1 as P,$ as C,F as j,a7 as Ee,a8 as Re}from"./@vue-963d0241.js";import"./dayjs-594ccbfa.js";import"./@babel-f22c9f32.js";import"./@braintree-9b6e9674.js";import"./d3-transition-dcb2c4ce.js";import"./d3-dispatch-4199cc96.js";import"./d3-timer-8bbb3adf.js";import"./d3-interpolate-23596b47.js";import"./d3-color-568b2243.js";import"./d3-selection-de98f9a2.js";import"./d3-ease-6a302484.js";import"./d3-zoom-a2c53521.js";import"./dompurify-0c4e1f83.js";import"./dagre-d3-es-ecbf9480.js";import"./lodash-es-027f92d5.js";import"./d3-shape-8fda5547.js";import"./d3-path-41c4cb36.js";import"./d3-fetch-5dc2c9dc.js";import"./khroma-dc7cc5cc.js";import"./uuid-80707d31.js";import"./d3-scale-0fe34040.js";import"./internmap-7949acc8.js";import"./d3-array-f46ca9a0.js";import"./d3-format-ffdb8652.js";import"./d3-time-format-8d6e99ce.js";import"./d3-time-e3072704.js";import"./d3-axis-8d489beb.js";import"./elkjs-86b86e03.js";import"./ts-dedent-356e4a49.js";import"./stylis-fad5b415.js";import"./mdast-util-from-markdown-32388d6f.js";import"./micromark-24282579.js";import"./micromark-util-combine-extensions-34ef5cdc.js";import"./micromark-util-chunked-6f054bfc.js";import"./micromark-factory-space-62b287c8.js";import"./micromark-util-character-b4c2c3b7.js";import"./micromark-core-commonmark-c7408300.js";import"./micromark-util-classify-character-b0dd44a1.js";import"./micromark-util-resolve-all-8a85a8df.js";import"./decode-named-character-reference-29ded5ae.js";import"./micromark-util-subtokenize-d9357da7.js";import"./micromark-factory-destination-cef6acfb.js";import"./micromark-factory-label-01414396.js";import"./micromark-factory-title-1a18636a.js";import"./micromark-factory-whitespace-7a4e1cef.js";import"./micromark-util-normalize-identifier-dfdf0387.js";import"./micromark-util-html-tag-name-eaa6d7c0.js";import"./micromark-util-decode-numeric-character-reference-bd25dc10.js";import"./micromark-util-decode-string-02bf9559.js";import"./unist-util-stringify-position-7b16d8bf.js";import"./mdast-util-to-string-bfd41500.js";import"./cytoscape-9984022b.js";import"./cytoscape-cose-bilkent-7a02157b.js";import"./cose-base-062de851.js";import"./layout-base-089b2bf3.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./@ctrl-fb5a5473.js";import"./dom-align-ecb06dd6.js";import"./side-channel-522b52ce.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-bc56bf77.js";import"./pinia-c4c0f489.js";import"./vue-router-ea0bd7e7.js";import"./localforage-5e17476c.js";import"./marked-c4f1ef09.js";import"./js-md5-774453ff.js";import"./async-ba739671.js";import"./vue3-ace-editor-f0da59bd.js";import"./ace-builds-a464a6c2.js";import"./@intlify-ada814d3.js";var X=function(e,t,a,i,r){this.groupId=r,this.cacheKey=e,this.allGroups=a,this.commands=i,this.targetValue=t||{},this.init()};X.prototype={init(){s.arrNotEmpty(this.commands)&&this.commands.forEach(e=>{this.addValue(e.name,e.value,e.type,e.all)})},addValue(e,t,a,i){i?this.allGroups.forEach(r=>{this.addCurrentGroup(e,t,a,r)}):this.addCurrentGroup(e,t,a,this.groupId)},addCurrentGroup(e,t,a,i){let r=e+a,n=this.targetValue[i];s.arrNotEmpty(n)?n.filter(o=>o.pkid==r&&o.in==a).length>0?n.forEach(o=>{o.pkid==r&&o.in==a&&(o.value=t)}):n.push({name:e,value:t,in:a,pkid:r}):(n=[],n.push({name:e,value:t,in:a,pkid:r})),this.targetValue[i]=n},save(){R.setItem(this.cacheKey,this.targetValue)}};var xe=function(e){this.groupid=e.groupid||"afterScriptGroup",this.commands=[],this.allgroupids=e.allgroupids||[],this.response=e.response||{data:{},headers:{}},this.global={setHeader:(t,a)=>{this.global.setCommon(t,a,"header",!1)},setAllHeader:(t,a)=>{this.global.setCommon(t,a,"header",!0)},setParameter:(t,a)=>{this.global.setCommon(t,a,"query",!1)},setAllParameter:(t,a)=>{this.global.setCommon(t,a,"query",!0)},setCommon:(t,a,i,r)=>{this.global.cacheCommand(t,a,i,r)},cacheCommand:(t,a,i,r)=>{this.commands.push({name:t,value:a,type:i,all:r})},action:()=>{if(this.commands!=null&&this.commands.length>0){let t=this.commands,a=this.groupid,i=this.allgroupids;R.getItem(T.globalParameter).then(r=>{new X(T.globalParameter,r,i,t,a).save()})}},executeAsyncCommon:(t,a,i,r)=>{var n=this.groupid,d=t+i;if(r){var o=this.allgroupids;R.getItem(T.globalParameter).then(l=>{if(s.checkUndefined(l)){var u={};o.forEach(g=>{var m=l[g];if(s.checkUndefined(m)||s.arrEmpty(m))m=[],m.push({name:t,value:a,in:i,pkid:d}),u[g]=m;else{var b=m.filter(S=>S.pkid==d&&S.in==i).length;b==0?m.push({name:t,value:a,in:i,pkid:d}):m.forEach(S=>{S.in==i&&S.pkid==d&&(S.value=a)}),u[g]=m}window.console.log("更新value"),window.console.log(u)}),R.setItem(T.globalParameter,u)}else{var p=[];p.push({name:t,value:a,in:i,pkid:d});var v={};o.forEach(g=>{v[g]=p}),R.setItem(T.globalParameter,v)}})}else R.getItem(T.globalParameter).then(l=>{var u=[],p={};if(s.checkUndefined(l)){for(var v in l)v==n?u=l[v]:p[v]=l[v];var g=u.filter(m=>m.pkid==d&&m.in==i).length;g==0?u.push({name:t,value:a,in:i,pkid:d}):u.forEach(m=>{m.in==i&&m.pkid==d&&(m.value=a)}),p[n]=u,R.setItem(T.globalParameter,p)}else u.push({name:t,value:a,in:i,pkid:d});p[n]=u,R.setItem(T.globalParameter,p)})}}};function H(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            ";break}for(var a=[`
`],i=0;i<100;i++)a.push(a[i]+t);return a}function B(){this.step="    ",this.shift=H(this.step)}B.prototype.xml=function(e,t){var a=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=a.length,r=!1,n=0,d="",o=0,l=t?H(t):this.shift;for(o=0;o<i;o++)a[o].search(/<!/)>-1?(d+=l[n]+a[o],r=!0,(a[o].search(/-->/)>-1||a[o].search(/\]>/)>-1||a[o].search(/!DOCTYPE/)>-1)&&(r=!1)):a[o].search(/-->/)>-1||a[o].search(/\]>/)>-1?(d+=a[o],r=!1):/^<\w/.exec(a[o-1])&&/^<\/\w/.exec(a[o])&&/^<[\w:\-\.\,]+/.exec(a[o-1])==/^<\/[\w:\-\.\,]+/.exec(a[o])[0].replace("/","")?(d+=a[o],r||n--):a[o].search(/<\w/)>-1&&a[o].search(/<\//)==-1&&a[o].search(/\/>/)==-1?d=r?d+=a[o]:d+=l[n++]+a[o]:a[o].search(/<\w/)>-1&&a[o].search(/<\//)>-1?d=r?d+=a[o]:d+=l[n]+a[o]:a[o].search(/<\//)>-1?d=r?d+=a[o]:d+=l[--n]+a[o]:a[o].search(/\/>/)>-1?d=r?d+=a[o]:d+=l[n]+a[o]:a[o].search(/<\?/)>-1||a[o].search(/xmlns\:/)>-1||a[o].search(/xmlns\=/)>-1?d+=l[n]+a[o]:d+=a[o];return d[0]==`
`?d.slice(1):d};B.prototype.json=function(e,a){var a=a||this.step;return typeof JSON>"u"?e:typeof e=="string"?JSON.stringify(JSON.parse(e),null,a):typeof e=="object"?JSON.stringify(e,null,a):e};B.prototype.css=function(e,t){var a=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=a.length,r=0,n="",d=0,o=t?H(t):this.shift;for(d=0;d<i;d++)/\{/.exec(a[d])?n+=o[r++]+a[d]:/\}/.exec(a[d])?n+=o[--r]+a[d]:(/\*\\/.exec(a[d]),n+=o[r]+a[d]);return n.replace(/^\n{1,}/,"")};function Ne(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function Ue(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+t+t+"AND ").replace(/ BETWEEN /ig,"~::~"+t+"BETWEEN ").replace(/ CASE /ig,"~::~"+t+"CASE ").replace(/ ELSE /ig,"~::~"+t+"ELSE ").replace(/ END /ig,"~::~"+t+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+t+"ON ").replace(/ OR /ig,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+t).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+t+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}B.prototype.sql=function(e,t){var a=e.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),i=a.length,r=[],n=0,d=this.step,o=0,l="",u=0,p=t?H(t):this.shift;for(u=0;u<i;u++)u%2?r=r.concat(a[u]):r=r.concat(Ue(a[u],d));for(i=r.length,u=0;u<i;u++)o=Ne(r[u],o),/\s{0,}\s{0,}SELECT\s{0,}/.exec(r[u])&&(r[u]=r[u].replace(/\,/g,`,
`+d+d)),/\s{0,}\s{0,}SET\s{0,}/.exec(r[u])&&(r[u]=r[u].replace(/\,/g,`,
`+d+d)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(r[u])?(n++,l+=p[n]+r[u]):/\'/.exec(r[u])?(o<1&&n&&n--,l+=r[u]):(l+=p[n]+r[u],o<1&&n&&n--);return l=l.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),l};B.prototype.xmlmin=function(e,t){var a=t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return a.replace(/>\s{0,}</g,"><")};B.prototype.jsonmin=function(e){return typeof JSON>"u"?e:JSON.stringify(JSON.parse(e),null,0)};B.prototype.cssmin=function(e,t){var a=t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return a.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")};B.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};const Ie={name:"Debug",components:{UnlockOutlined:De,DownOutlined:_e,EditorScript:z(()=>G(()=>import("./EditorScript-a1865fce.js"),["./EditorScript-a1865fce.js","./vue3-ace-editor-f0da59bd.js","./ace-builds-a464a6c2.js","./@babel-f22c9f32.js","./resize-observer-polyfill-0f9f8adb.js","./@vue-963d0241.js","./index-d84fb973.js","./ant-design-vue-7939988e.js","./dayjs-594ccbfa.js","./@ant-design-54a0d12d.js","./@ctrl-fb5a5473.js","./lodash-es-027f92d5.js","./async-validator-dee29e8b.js","./scroll-into-view-if-needed-6b992d05.js","./compute-scroll-into-view-183f845a.js","./vue-types-ef06c517.js","./dom-align-ecb06dd6.js","..\\css\\ant-design-vue-b699a532.css","./pinia-c4c0f489.js","./mermaid-cefb411a.js","./@braintree-9b6e9674.js","./d3-transition-dcb2c4ce.js","./d3-dispatch-4199cc96.js","./d3-timer-8bbb3adf.js","./d3-interpolate-23596b47.js","./d3-color-568b2243.js","./d3-selection-de98f9a2.js","./d3-ease-6a302484.js","./d3-zoom-a2c53521.js","./dompurify-0c4e1f83.js","./dagre-d3-es-ecbf9480.js","./d3-shape-8fda5547.js","./d3-path-41c4cb36.js","./d3-fetch-5dc2c9dc.js","./khroma-dc7cc5cc.js","./uuid-80707d31.js","./d3-scale-0fe34040.js","./internmap-7949acc8.js","./d3-array-f46ca9a0.js","./d3-format-ffdb8652.js","./d3-time-format-8d6e99ce.js","./d3-time-e3072704.js","./d3-axis-8d489beb.js","./elkjs-86b86e03.js","./ts-dedent-356e4a49.js","./stylis-fad5b415.js","./mdast-util-from-markdown-32388d6f.js","./micromark-24282579.js","./micromark-util-combine-extensions-34ef5cdc.js","./micromark-util-chunked-6f054bfc.js","./micromark-factory-space-62b287c8.js","./micromark-util-character-b4c2c3b7.js","./micromark-core-commonmark-c7408300.js","./micromark-util-classify-character-b0dd44a1.js","./micromark-util-resolve-all-8a85a8df.js","./decode-named-character-reference-29ded5ae.js","./micromark-util-subtokenize-d9357da7.js","./micromark-factory-destination-cef6acfb.js","./micromark-factory-label-01414396.js","./micromark-factory-title-1a18636a.js","./micromark-factory-whitespace-7a4e1cef.js","./micromark-util-normalize-identifier-dfdf0387.js","./micromark-util-html-tag-name-eaa6d7c0.js","./micromark-util-decode-numeric-character-reference-bd25dc10.js","./micromark-util-decode-string-02bf9559.js","./unist-util-stringify-position-7b16d8bf.js","./mdast-util-to-string-bfd41500.js","./cytoscape-9984022b.js","./cytoscape-cose-bilkent-7a02157b.js","./cose-base-062de851.js","./layout-base-089b2bf3.js","./vue-router-ea0bd7e7.js","./vue-i18n-48149f47.js","./@intlify-ada814d3.js","./localforage-5e17476c.js","./marked-c4f1ef09.js","./lodash-bf2603fc.js","./js-md5-774453ff.js","./async-ba739671.js","./axios-f38c850f.js","..\\css\\index-5417a263.css"],import.meta.url)),EditorDebugShow:z(()=>G(()=>import("./EditorDebugShow-8a125cc3.js"),["./EditorDebugShow-8a125cc3.js","./vue3-ace-editor-f0da59bd.js","./ace-builds-a464a6c2.js","./@babel-f22c9f32.js","./resize-observer-polyfill-0f9f8adb.js","./@vue-963d0241.js","./index-d84fb973.js","./ant-design-vue-7939988e.js","./dayjs-594ccbfa.js","./@ant-design-54a0d12d.js","./@ctrl-fb5a5473.js","./lodash-es-027f92d5.js","./async-validator-dee29e8b.js","./scroll-into-view-if-needed-6b992d05.js","./compute-scroll-into-view-183f845a.js","./vue-types-ef06c517.js","./dom-align-ecb06dd6.js","..\\css\\ant-design-vue-b699a532.css","./pinia-c4c0f489.js","./mermaid-cefb411a.js","./@braintree-9b6e9674.js","./d3-transition-dcb2c4ce.js","./d3-dispatch-4199cc96.js","./d3-timer-8bbb3adf.js","./d3-interpolate-23596b47.js","./d3-color-568b2243.js","./d3-selection-de98f9a2.js","./d3-ease-6a302484.js","./d3-zoom-a2c53521.js","./dompurify-0c4e1f83.js","./dagre-d3-es-ecbf9480.js","./d3-shape-8fda5547.js","./d3-path-41c4cb36.js","./d3-fetch-5dc2c9dc.js","./khroma-dc7cc5cc.js","./uuid-80707d31.js","./d3-scale-0fe34040.js","./internmap-7949acc8.js","./d3-array-f46ca9a0.js","./d3-format-ffdb8652.js","./d3-time-format-8d6e99ce.js","./d3-time-e3072704.js","./d3-axis-8d489beb.js","./elkjs-86b86e03.js","./ts-dedent-356e4a49.js","./stylis-fad5b415.js","./mdast-util-from-markdown-32388d6f.js","./micromark-24282579.js","./micromark-util-combine-extensions-34ef5cdc.js","./micromark-util-chunked-6f054bfc.js","./micromark-factory-space-62b287c8.js","./micromark-util-character-b4c2c3b7.js","./micromark-core-commonmark-c7408300.js","./micromark-util-classify-character-b0dd44a1.js","./micromark-util-resolve-all-8a85a8df.js","./decode-named-character-reference-29ded5ae.js","./micromark-util-subtokenize-d9357da7.js","./micromark-factory-destination-cef6acfb.js","./micromark-factory-label-01414396.js","./micromark-factory-title-1a18636a.js","./micromark-factory-whitespace-7a4e1cef.js","./micromark-util-normalize-identifier-dfdf0387.js","./micromark-util-html-tag-name-eaa6d7c0.js","./micromark-util-decode-numeric-character-reference-bd25dc10.js","./micromark-util-decode-string-02bf9559.js","./unist-util-stringify-position-7b16d8bf.js","./mdast-util-to-string-bfd41500.js","./cytoscape-9984022b.js","./cytoscape-cose-bilkent-7a02157b.js","./cose-base-062de851.js","./layout-base-089b2bf3.js","./vue-router-ea0bd7e7.js","./vue-i18n-48149f47.js","./@intlify-ada814d3.js","./localforage-5e17476c.js","./marked-c4f1ef09.js","./lodash-bf2603fc.js","./js-md5-774453ff.js","./async-ba739671.js","./axios-f38c850f.js","..\\css\\index-5417a263.css"],import.meta.url)),DebugResponse:z(()=>G(()=>import("./DebugResponse-6f9ee7f4.js"),["./DebugResponse-6f9ee7f4.js","./mermaid-cefb411a.js","./dayjs-594ccbfa.js","./@babel-f22c9f32.js","./@braintree-9b6e9674.js","./d3-transition-dcb2c4ce.js","./d3-dispatch-4199cc96.js","./d3-timer-8bbb3adf.js","./d3-interpolate-23596b47.js","./d3-color-568b2243.js","./d3-selection-de98f9a2.js","./d3-ease-6a302484.js","./d3-zoom-a2c53521.js","./dompurify-0c4e1f83.js","./dagre-d3-es-ecbf9480.js","./lodash-es-027f92d5.js","./d3-shape-8fda5547.js","./d3-path-41c4cb36.js","./d3-fetch-5dc2c9dc.js","./khroma-dc7cc5cc.js","./uuid-80707d31.js","./d3-scale-0fe34040.js","./internmap-7949acc8.js","./d3-array-f46ca9a0.js","./d3-format-ffdb8652.js","./d3-time-format-8d6e99ce.js","./d3-time-e3072704.js","./d3-axis-8d489beb.js","./elkjs-86b86e03.js","./ts-dedent-356e4a49.js","./stylis-fad5b415.js","./mdast-util-from-markdown-32388d6f.js","./micromark-24282579.js","./micromark-util-combine-extensions-34ef5cdc.js","./micromark-util-chunked-6f054bfc.js","./micromark-factory-space-62b287c8.js","./micromark-util-character-b4c2c3b7.js","./micromark-core-commonmark-c7408300.js","./micromark-util-classify-character-b0dd44a1.js","./micromark-util-resolve-all-8a85a8df.js","./decode-named-character-reference-29ded5ae.js","./micromark-util-subtokenize-d9357da7.js","./micromark-factory-destination-cef6acfb.js","./micromark-factory-label-01414396.js","./micromark-factory-title-1a18636a.js","./micromark-factory-whitespace-7a4e1cef.js","./micromark-util-normalize-identifier-dfdf0387.js","./micromark-util-html-tag-name-eaa6d7c0.js","./micromark-util-decode-numeric-character-reference-bd25dc10.js","./micromark-util-decode-string-02bf9559.js","./unist-util-stringify-position-7b16d8bf.js","./mdast-util-to-string-bfd41500.js","./cytoscape-9984022b.js","./cytoscape-cose-bilkent-7a02157b.js","./cose-base-062de851.js","./layout-base-089b2bf3.js","./ant-design-vue-7939988e.js","./@vue-963d0241.js","./@ant-design-54a0d12d.js","./@ctrl-fb5a5473.js","./resize-observer-polyfill-0f9f8adb.js","./async-validator-dee29e8b.js","./scroll-into-view-if-needed-6b992d05.js","./compute-scroll-into-view-183f845a.js","./vue-types-ef06c517.js","./dom-align-ecb06dd6.js","..\\css\\ant-design-vue-b699a532.css","./index-d84fb973.js","./pinia-c4c0f489.js","./vue-router-ea0bd7e7.js","./vue-i18n-48149f47.js","./@intlify-ada814d3.js","./localforage-5e17476c.js","./marked-c4f1ef09.js","./lodash-bf2603fc.js","./js-md5-774453ff.js","./async-ba739671.js","./axios-f38c850f.js","./vue3-ace-editor-f0da59bd.js","./ace-builds-a464a6c2.js","..\\css\\index-5417a263.css","./clipboard-52f3d9f6.js"],import.meta.url))},props:{api:{type:Object,required:!0},swaggerInstance:{type:Object,required:!0}},setup(){const e=Fe(),t=Y(()=>e.language),a=Y(()=>e.enableAfterScript),i=Y(()=>e.enableReloadCacheParameter),r=Ce(),{messages:n}=Se();return{language:t,enableAfterScript:a,enableReloadCacheParameter:i,knife4jModels:r,messages:n}},data(){return{oldApi:{},i18n:null,bigFlag:!1,bigBlobFlag:!1,debugUrlStyle:"width: 80%",enableRequestCache:!1,enableDynamicParameter:!1,enableHost:!1,enableHostText:"",authorizeQueryParameters:[],headerColumn:[],formColumn:[],urlFormColumn:[],allowClear:!0,pagination:!1,headerAutoOptions:T.debugRequestHeaders,headerOptions:T.debugRequestHeaderOptions,headerCount:0,headerCountFlag:!1,headerSelectName:"",selectedRowKeys:[],requestParameterAllow:!0,rowSelection:{selectedRowKeys:[],onChange:(e,t)=>{this.rowSelection.selectedRowKeys=e}},rowFormSelection:{selectedRowKeys:[],onChange:(e,t)=>{this.rowFormSelection.selectedRowKeys=e}},rowRawFormSelection:{selectedRowKeys:[],onChange:(e,t)=>{this.rowRawFormSelection.selectedRowKeys=e}},rowUrlFormSelection:{selectedRowKeys:[],onChange:(e,t)=>{this.rowUrlFormSelection.selectedRowKeys=e}},headerData:[],headerTableFlag:!0,globalParameters:[],debugUrl:"",debugMethodType:"",debugPathFlag:!1,debugPathParams:[],debugLoading:!1,oAuthApi:!1,debugSend:!1,formData:[],formFlag:!1,formTableFlag:!0,urlFormData:[],urlFormFlag:!1,urlFormTableFlag:!0,rawFormData:[],rawFormFlag:!1,rawFormTableFlag:!0,rawDefaultText:"Auto",rawFlag:!1,rawTypeFlag:!1,formatFlag:!1,rawText:"",rawScript:"",rawScriptMode:"javascript",rawMode:"text",rawRequestType:"application/json",requestContentType:"x-www-form-urlencoded",responseHeaders:[],responseRawText:"",responseCurlText:"",responseStatus:null,responseContent:null,responseFieldDescriptionChecked:!0,routeHeader:null,oas2:!0}},created(){this.routeHeader=this.swaggerInstance.header,this.oas2=this.swaggerInstance.oas2(),this.initI18n(),this.initLocalGlobalParameters(),this.initDebugUrl(),this.oldApi=ke(this.api),this.enableReloadCacheParameter?this.debugUrlStyle="width: 70%;":this.debugUrlStyle="width: 80%;"},watch:{language:function(e,t){this.initI18n()}},methods:{resetCacheParameter(){this.headerData=[],this.formData=[],this.urlFormData=[],this.rawFormData=[],this.rawText=s.toString(this.oldApi.requestValue,""),this.rawScript="",this.storeApiParams(),this.initLocalGlobalParameters(),this.initDebugUrl()},reloadCacheParameter(){var e=[];const t=this.api.instanceId;R.getItem(T.globalParameter).then(a=>{a!=null&&a[t]!=null&&a[t]!=null&&(e=a[t]),s.arrNotEmpty(e)&&(this.reloadUpdateHeader(e),this.rawFlag?this.reloadUpdateRawForm(e):this.formFlag?this.reloadUpdateForm(e):this.urlFormFlag&&this.reloadUpdateUrlForm(e))})},reloadUpdateCommons(e,t,a){var i=[],r=!1,n=!1;s.arrNotEmpty(t)&&t.forEach(o=>{var l=o.name+a,u=e.filter(g=>g.pkid==l);if(s.arrNotEmpty(u)){var p=u[0],v=s.getValue(p,"value","",!0);o.content=v,r=!0}i.push(o)});var d=e.filter(o=>o.in==a);return s.arrNotEmpty(d)&&d.forEach(o=>{var l=i.filter(p=>p.name==o.name);if(!s.arrNotEmpty(l)){var u={id:s.randomMd5(),name:o.name,content:o.value,require:!0,description:"",enums:null,enumsMode:"default",new:!1};i.push(u),r=!0,n=!0}}),console.log(i),{update:r,data:i,add:n}},reloadUpdateHeader(e){var t=this.reloadUpdateCommons(e,this.headerData,"header");t.update&&(this.headerData=[],setTimeout(()=>{this.headerData=t.data,t.add&&(this.initSelectionHeaders(),this.headerResetCalc())},10))},reloadUpdateUrlForm(e){var t=this.reloadUpdateCommons(e,this.urlFormData,"query");t.update&&(this.urlFormData=[],setTimeout(()=>{this.urlFormData=t.data,t.add&&this.initUrlFormSelections()},10))},reloadUpdateForm(e){var t=this.reloadUpdateCommons(e,this.formData,"query");t.update&&(this.formData=[],setTimeout(()=>{this.formData=t.data,t.add&&this.initFormSelections()},10))},reloadUpdateRawForm(e){var t=this.reloadUpdateCommons(e,this.rawFormData,"query");t.update&&(this.rawFormData=[],setTimeout(()=>{this.rawFormData=t.data,t.add&&(this.rawFormFlag=!0,this.rawFormTableFlag=!0,this.initRawFormSelections())},10))},getCurrentI18nInstance(){return this.messages[this.language]},initI18n(){const e=this.getCurrentI18nInstance();this.i18n=e,this.headerColumn=e.table.debugRequestHeaderColumns,this.formColumn=e.table.debugFormDataRequestColumns,this.urlFormColumn=e.table.debugUrlFormRequestColumns,console.log(this.headerColumn,this.formColumn,this.urlFormColumn)},debugUrlChange(e){this.debugUrl=e.target.value},initDebugUrl(){this.debugUrl=this.api.url,this.debugMethodType=this.api.methodType;var e=new RegExp("{(.*?)}","ig");if(e.test(this.debugUrl)){this.debugPathFlag=!0;for(var t=null,a=new RegExp("{(.*?)}","ig");t=a.exec(this.debugUrl);)this.debugPathParams.push(t[1])}},initLocalGlobalParameters(){const e=this.api.instanceId;R.getItem(T.globalSettingsKey).then(t=>{if(s.checkUndefined(t)&&(this.enableRequestCache=t.enableRequestCache,s.checkUndefined(t.enableDynamicParameter)&&(this.enableDynamicParameter=t.enableDynamicParameter),s.checkUndefined(t.enableHost))){this.enableHost=t.enableHost;var a=t.enableHostText;s.checkUndefined(a)?(a.startsWith("http")||(a="http://"+a),this.enableHostText=a):this.enableHost=!1}R.getItem(T.globalParameter).then(i=>{i!=null&&i[e]!=null&&i[e]!=null&&(this.globalParameters=i[e]);var r=T.debugCacheApiId+this.api.id;R.getItem(r).then(n=>{this.initHeaderParameter(n);var d=T.globalSecurityParamPrefix+this.api.instanceId;R.getItem(d).then(o=>{s.arrNotEmpty(o)&&o.forEach(l=>{if(l.in=="query"){var u={id:s.randomMd5(),name:l.name,content:l.value,value:l.value,require:!0,description:"",enums:null,enumsMode:"default",new:!1};this.api.securityFlag&&this.api.securityKeys.includes(l.key)&&this.authorizeQueryParameters.push(u)}}),this.initBodyParameter(n)})})})})},initHeaderParameter(e){var t=this.syncFromOAuth2();if(s.checkUndefined(t)){this.oAuthApi=!0;var a={id:s.randomMd5(),name:t.name,content:t.accessToken,require:!0,description:"",enums:null,enumsMode:"default",new:!1};this.addDebugHeader(a)}this.globalParameters.forEach(r=>{if(console.log(r),r.in=="header"){var n={id:s.randomMd5(),name:r.name,content:r.value,require:!1,description:"",enums:null,enumsMode:"default",new:!1};this.addDebugHeader(n)}});var i=T.globalSecurityParamPrefix+this.api.instanceId;R.getItem(i).then(r=>{s.arrNotEmpty(r)&&r.forEach(n=>{let d=s.getOAuth2BearerValue(n.schema,n.value);var o={id:s.randomMd5(),name:n.name,content:d,require:!0,description:"",enums:null,enumsMode:"default",new:!1};n.in=="header"&&this.api.securityFlag&&this.api.securityKeys.includes(n.key)&&this.addDebugHeader(o)}),this.updateHeaderFromCacheApi(e),this.addNewLineHeader(),this.initSelectionHeaders(),this.headerResetCalc()})},updateHeaderFromCacheApi(e){if(this.enableRequestCache&&s.checkUndefined(e)){var t=e.headerData;this.headerData.forEach(a=>{if(!s.strNotBlank(a.content)){var i=t.filter(r=>r.name==a.name);i.length>0&&(this.oAuthApi?a.name!="Authorization"&&(a.content=i[0].content):a.content=i[0].content)}})}},updateUrlFormCacheApi(e){if(this.enableRequestCache&&s.checkUndefined(e)){var t=e.urlFormData;this.urlFormData.forEach(a=>{if(!s.strNotBlank(a.content)){var i=t.filter(r=>r.name==a.name);i.length>0&&(a.content=i[0].content)}})}},updateRawFormCacheApi(e){if(this.enableRequestCache&&s.checkUndefined(e)){var t=e.rawFormData;this.rawFormData.forEach(a=>{if(!s.strNotBlank(a.content)){var i=t.filter(r=>r.name==a.name);i.length>0&&(a.content=i[0].content)}}),this.rawText=e.rawText}},syncFromOAuth2(){var e=this.swaggerInstance.id,t="SELFOAuth"+e;if(window.localStorage){var a=window.localStorage.getItem(t);if(s.strNotBlank(a)){var i=s.json5parse(a);return i}}return null},updateFormCacheApi(e){if(this.enableRequestCache&&s.checkUndefined(e)){var t=e.formData;this.formData.forEach(a=>{if(!s.strNotBlank(a.content)){var i=t.filter(r=>r.name==a.name);i.length>0&&(a.content=i[0].content)}})}},initBodyParameter(e){var t=this.globalParameters.filter(l=>l.in!="header"),a=this.api.parameters,i=[],r=[];if(t.length>0&&t.forEach(l=>{if(s.arrNotEmpty(a)){var u=!0;a.forEach(p=>{l.name==p.name&&l.in==p.in&&s.strNotBlank(p.txtValue)&&(u=!1)}),u&&i.push(l)}else i.push(l)}),s.arrNotEmpty(a)&&a.forEach(l=>{if(s.arrNotEmpty(t)){var u=!0;t.forEach(p=>{p.name==l.name&&p.in==l.in&&(s.strNotBlank(l.txtValue)||(u=!1))}),u&&r.push(l)}else r.push(l)}),s.arrNotEmpty(this.authorizeQueryParameters)&&this.authorizeQueryParameters.forEach(l=>{i.push(l)}),i.length+r.length,s.arrNotEmpty(r)){var n=r.filter(l=>l.in=="body").length;if(n==1){var d=r.filter(l=>l.in!="body"&&l.in!="header");this.addGlobalParameterToRawForm(i),d.length>0&&(this.rawFormFlag=!0,this.addApiParameterToRawForm(d)),s.arrNotEmpty(this.rawFormData)&&(this.rawFormFlag=!0),this.showTabRaw(),this.addApiParameterToRaw(r),this.updateRawFormCacheApi(e),this.rawFormFlag&&this.initFirstRawFormValue()}else{var o=r.filter(l=>l.schemaValue=="MultipartFile"||l.schemaValue=="file"||l.type=="file"||l.in=="formData"||l.in=="formdata").length;o>0?(this.showTabForm(),this.addGlobalParameterToForm(i),this.addApiParameterToForm(r),this.updateFormCacheApi(e),this.initFirstFormValue()):(this.showTabUrlForm(),this.addGlobalParameterToUrlForm(i),this.addApiParameterToUrlForm(r),this.updateUrlFormCacheApi(e),this.initUrlFormValue())}}else this.api.contentValue=="raw"?(this.showTabRaw(),this.initFirstRawFormValue()):(this.showTabUrlForm(),this.addGlobalParameterToUrlForm(i),this.addApiParameterToUrlForm(r),this.updateUrlFormCacheApi(e),this.initUrlFormValue());this.updateScriptFromCache(e),this.updateHeaderFromCacheApi(e),this.hideDynamicParameterTable()},updateScriptFromCache(e){s.checkUndefined(e)&&s.strNotBlank(e.rawScript)&&(this.rawScript=e.rawScript)},hideDynamicParameterTable(){this.enableDynamicParameter||(this.headerData.length==0?this.headerTableFlag=!1:this.headerTableFlag=!0,this.urlFormData.length==0?this.urlFormTableFlag=!1:this.urlFormTableFlag=!0,this.formData.length==0?this.formTableFlag=!1:this.formTableFlag=!0,this.rawFormData.length==0?this.rawFormTableFlag=!1:this.rawFormTableFlag=!0),this.initSelectionHeaders(),this.headerResetCalc()},addNewLineHeader(){if(this.enableDynamicParameter){var e={id:s.randomMd5(),name:"",content:"",require:!1,description:"",enums:null,enumsMode:"default",new:!0};setTimeout(()=>this.addDebugHeader(e),100)}this.hideDynamicParameterTable()},addDebugHeader(e){if(s.strNotBlank(e.name)){var t=this.headerData.filter(a=>a.name==e.name);s.strBlank(e.content)?t.length==0&&this.headerData.push(e):this.headerData.push(e)}else this.headerData.push(e)},initFirstFormValue(){this.addNewLineFormValue(),this.initFormSelections()},initFormSelections(e){if(s.strNotBlank(e)){var t=this.rowFormSelection.selectedRowKeys.filter(a=>a==e).length;t==0&&this.rowFormSelection.selectedRowKeys.push(e)}else this.formData.forEach(a=>{a.require&&this.rowFormSelection.selectedRowKeys.push(a.id)})},initRawFormSelections(e){if(s.strNotBlank(e)){var t=this.rowRawFormSelection.selectedRowKeys.filter(a=>a==e).length;t==0&&this.rowRawFormSelection.selectedRowKeys.push(e)}else this.rawFormData.forEach(a=>{a.require&&this.rowRawFormSelection.selectedRowKeys.push(a.id)})},initUrlFormSelections(e){if(s.strNotBlank(e)){var t=this.rowUrlFormSelection.selectedRowKeys.filter(a=>a==e).length;t==0&&this.rowUrlFormSelection.selectedRowKeys.push(e)}else this.urlFormData.forEach(a=>{a.require&&this.rowUrlFormSelection.selectedRowKeys.push(a.id)})},showTabForm(){this.formFlag=!0,this.rawFlag=!1,this.rawTypeFlag=!1,this.formatFlag=!1,this.urlFormFlag=!1,this.requestContentType="form-data",this.toggleBeautifyButtonStatus()},showTabUrlForm(){this.urlFormFlag=!0,this.rawFlag=!1,this.rawTypeFlag=!1,this.formFlag=!1,this.requestContentType="x-www-form-urlencoded",this.toggleBeautifyButtonStatus()},showTabRaw(){this.rawFlag=!0,this.rawMode=this.api.contentMode,this.rawDefaultText=this.api.contentShowValue,this.rawTypeFlag=!0,this.formFlag=!1,this.urlFormFlag=!1,this.rawText=s.toString(this.api.requestValue,""),this.api.xmlRequest&&(this.rawRequestType="application/xml"),this.requestContentType="raw",this.toggleBeautifyButtonStatus()},getEnumOptions(e){var t=s.propValue("enum",e,null),a=null;if(s.checkUndefined(t)){var i=[];t.forEach(r=>{i.push({value:r,label:r})}),a=i}return a},addNewLineFormValue(){if(this.enableDynamicParameter){var e={id:s.randomMd5(),name:"",type:"text",require:!1,target:null,multipart:!1,content:"",description:"",enums:null,enumsMode:"default",new:!0};this.formData.push(e)}else this.hideDynamicParameterTable()},addGlobalParameterToRawForm(e){s.arrNotEmpty(e)&&e.forEach(t=>{var a={id:s.randomMd5(),name:t.name,type:"text",require:!1,target:null,multipart:!1,content:t.value,description:"",enums:null,enumsMode:"default",new:!1};this.rawFormData.push(a)})},addGlobalParameterToForm(e){s.arrNotEmpty(e)&&e.forEach(t=>{var a={id:s.randomMd5(),name:t.name,type:"text",require:!1,target:null,multipart:!1,content:t.value,description:"",enums:null,enumsMode:"default",new:!1};this.formData.push(a)})},addApiParameterToRaw(e){if(s.arrNotEmpty(e)){var t=e.filter(a=>a.in=="header");t.length>0&&t.forEach(a=>{var i={id:s.randomMd5(),name:a.name,require:a.require,content:a.txtValue,description:s.propValue("description",a,""),enums:this.getEnumOptions(a),enumsMode:"default",new:!1};i.enums!=null&&(s.strNotBlank(i.content)||(i.content=i.enums[0].value)),this.addDebugHeader(i)})}},addApiParameterToForm(e){s.arrNotEmpty(e)&&e.forEach(t=>{if(t.in=="header"){var a={id:s.randomMd5(),name:t.name,require:t.require,content:t.txtValue,description:s.propValue("description",t,""),enums:this.getEnumOptions(t),enumsMode:"default",new:!1};a.enums!=null&&(s.strNotBlank(a.content)||(a.content=a.enums[0].value)),this.addDebugHeader(a)}else{var i="text",r=!1;(t.schemaValue=="MultipartFile"||t.schemaValue=="file"||t.type=="file")&&(i="file",t.type=="array"&&(r=!0));var n={id:s.randomMd5(),name:t.name,type:i,require:t.require,target:null,multipart:r,content:t.txtValue,description:s.propValue("description",t,""),enums:this.getEnumOptions(t),enumsMode:"default",new:!1};n.enums!=null&&(s.strNotBlank(n.content)||(n.content=n.enums[0].value)),this.formData.push(n)}})},addGlobalParameterToUrlForm(e){s.arrNotEmpty(e)&&e.forEach(t=>{var a={id:s.randomMd5(),name:t.name,type:"text",require:!1,target:null,content:t.value,description:"",enums:null,enumsMode:"default",new:!1};this.urlFormData.push(a)})},addApiParameterToRawForm(e){s.arrNotEmpty(e)&&e.forEach(t=>{if(t.in=="header"){var a={id:s.randomMd5(),name:t.name,require:t.require,content:t.txtValue,description:s.propValue("description",t,""),enums:this.getEnumOptions(t),enumsMode:"default",new:!1};a.enums!=null&&(s.strNotBlank(a.content)||(a.content=a.enums[0].value)),this.addDebugHeader(a)}else{var i={id:s.randomMd5(),name:t.name,type:"text",require:t.require,target:null,content:t.txtValue,description:s.propValue("description",t,""),enums:this.getEnumOptions(t),enumsMode:"default",new:!1};i.enums!=null&&(s.strNotBlank(i.content)||(i.content=i.enums[0].value)),this.rawFormData.push(i)}})},addApiParameterToUrlForm(e){s.arrNotEmpty(e)&&e.forEach(t=>{if(t.in=="header"){var a={id:s.randomMd5(),name:t.name,require:t.require,content:t.txtValue,description:s.propValue("description",t,""),enums:this.getEnumOptions(t),enumsMode:"default",new:!1};a.enums!=null&&(s.strNotBlank(a.content)||(a.content=a.enums[0].value)),this.addDebugHeader(a)}else{var i="default";s.arrNotEmpty(t.enum)&&t.type=="array"&&(i="multiple");var r={id:s.randomMd5(),name:t.name,type:"text",require:t.require,target:null,content:t.txtValue,description:s.propValue("description",t,""),enums:this.getEnumOptions(t),enumsMode:i,new:!1};r.enums!=null&&(s.strNotBlank(r.content)||(r.content=r.enums[0].value)),this.urlFormData.push(r)}})},addNewLineUrlFormValue(){if(this.enableDynamicParameter){var e={id:s.randomMd5(),name:"",type:"text",require:!1,target:null,content:"",description:"",enums:null,enumsMode:"default",new:!0};this.urlFormData.push(e)}else this.hideDynamicParameterTable()},addNewLineRawFormValue(){if(this.enableDynamicParameter){var e={id:s.randomMd5(),name:"",type:"text",require:!1,target:null,content:"",description:"",enums:null,enumsMode:"default",new:!0};this.rawFormData.push(e)}else this.hideDynamicParameterTable()},initFirstRawFormValue(){this.addNewLineRawFormValue(),this.initRawFormSelections()},initUrlFormValue(){this.addNewLineUrlFormValue(),this.initUrlFormSelections()},initShowFormTable(){this.requestContentType=="x-www-form-urlencoded"?(this.urlFormFlag=!0,this.formFlag=!1,this.rawFlag=!1,this.rawTypeFlag=!1):this.requestContentType=="form-data"?(this.formFlag=!0,this.urlFormFlag=!1,this.rawFlag=!1,this.rawTypeFlag=!1):this.requestContentType=="raw"&&(this.rawFlag=!0,this.rawTypeFlag=!0,this.urlFormFlag=!1,this.formFlag=!1),this.toggleBeautifyButtonStatus()},initSelectionHeaders(e){if(s.strNotBlank(e)){var t=this.rowSelection.selectedRowKeys.filter(a=>a==e).length;t==0&&this.rowSelection.selectedRowKeys.push(e)}else this.headerData.forEach(a=>{this.rowSelection.selectedRowKeys.push(a.id)})},headerContentEnumChnage(e,t){var a=t.context.$attrs["data-key"];this.headerContentChnageUpdate(e,a)},headerCookieValue(e){e.name.toLowerCase()=="cookie"&&(document.cookie=e.content)},headerContentChnage(e){var t=e.target.value,a=e.target.getAttribute("data-key");this.headerContentChnageUpdate(t,a)},headerContentChnageUpdate(e,t){var a=this.headerData.filter(i=>i.id==t)[0];a.new?(this.headerData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1,this.headerCookieValue(i))}),this.addNewLineHeader()):this.headerData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1,this.headerCookieValue(i))}),this.initSelectionHeaders(a.id),this.headerResetCalc()},headerNameFilterOption(e,t){return t?t.key.toUpperCase().indexOf(e.toUpperCase())>=0:!1},headerSelect(e,t){this.headerSelectName=e,t.name=e,t.new=!1},headerSearch(e){this.headerSelectName=e},headerNameChange(e){e.new?(this.headerData.forEach(t=>{t.id==e.id&&(t.name=this.headerSelectName,t.new=!1)}),this.addNewLineHeader()):this.headerData.forEach(t=>{t.id==e.id&&(t.name=this.headerSelectName,t.new=!1)}),this.initSelectionHeaders(e.id),this.headerResetCalc()},headerDelete(e){var t=[];this.headerData.forEach(a=>{a.id!=e.id&&t.push(a)}),this.headerData=t,this.headerResetCalc()},headerResetCalc(){var e=this.headerData.filter(t=>t.new==!1);e.length>0?(this.headerCountFlag=!0,this.headerCount=e.length):(this.headerCountFlag=!1,this.headerCount=0)},requestContentTypeChange(e){this.requestContentType=e.target.value,this.initShowFormTable()},formDelete(e){var t=[];this.formData.forEach(a=>{a.id!=e.id&&t.push(a)}),this.formData=t},formFileUploadClick(e){document.getElementById("file"+e.id).click()},formNameChange(e){var t=e.target.value,a=e.target.getAttribute("data-key"),i=this.formData.filter(r=>r.id==a)[0];i.new?(this.formData.forEach(r=>{r.id==i.id&&(r.name=t,r.new=!1)}),this.addNewLineFormValue()):this.formData.forEach(r=>{r.id==i.id&&(r.name=t,r.new=!1)}),this.initFormSelections(i.id)},formTypeChange(e,t){var a=e.split("-"),i=a[0],r=a[1];this.formData.forEach(n=>{n.id==r&&(n.content="",n.type=i)})},formFileChange(e){for(var t=e.target.files,a=[],i=0;i<t.length;i++)a.push(t[i].name);var r=a.join(","),n=e.target,d=n.getAttribute("data-key"),o=this.formData.filter(l=>l.id==d)[0];o.new?(this.formData.forEach(l=>{l.id==o.id&&(l.content=r,l.target=n,l.new=!1)}),this.addNewLineFormValue()):this.formData.forEach(l=>{l.id==o.id&&(l.content=r,l.target=n,l.new=!1)}),this.initFormSelections(o.id)},formContentUpdate(e,t){var a=this.formData.filter(i=>i.id==t)[0];a.new?(this.formData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1)}),this.addNewLineFormValue()):this.formData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1)}),this.initFormSelections(a.id)},formContentEnumChange(e,t){var a=t.context.$attrs["data-key"];this.formContentUpdate(e,a)},formContentChange(e){var t=e.target.value,a=e.target.getAttribute("data-key");this.formContentUpdate(t,a)},rawFormDelete(e){var t=[];this.rawFormData.forEach(a=>{a.id!=e.id&&t.push(a)}),this.rawFormData=t},urlFormDelete(e){var t=[];this.urlFormData.forEach(a=>{a.id!=e.id&&t.push(a)}),this.urlFormData=t},rawFormNameChange(e){var t=e.target.value,a=e.target.getAttribute("data-key"),i=this.rawFormData.filter(r=>r.id==a)[0];i.new?(this.rawFormData.forEach(r=>{r.id==i.id&&(r.name=t,r.new=!1)}),this.addNewLineRawFormValue()):this.rawFormData.forEach(r=>{r.id==i.id&&(r.name=t,r.new=!1)}),this.initRawFormSelections(i.id)},urlFormNameChange(e){var t=e.target.value,a=e.target.getAttribute("data-key"),i=this.urlFormData.filter(r=>r.id==a)[0];i.new?(this.urlFormData.forEach(r=>{r.id==i.id&&(r.name=t,r.new=!1)}),this.addNewLineUrlFormValue()):this.urlFormData.forEach(r=>{r.id==i.id&&(r.name=t,r.new=!1)}),this.initUrlFormSelections(i.id)},rawFormContentUpdate(e,t){var a=this.rawFormData.filter(i=>i.id==t)[0];a.new?(this.rawFormData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1)}),this.addNewLineRawFormValue()):this.rawFormData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1)}),this.initRawFormSelections(a.id)},rawFormContentEnumChange(e,t){var a=t.context.$attrs["data-key"];this.rawFormContentUpdate(e,a)},rawFormContentChange(e){var t=e.target.value,a=e.target.getAttribute("data-key");this.rawFormContentUpdate(t,a)},urlFormContentUpdate(e,t){var a=this.urlFormData.filter(i=>i.id==t)[0];a.new?(this.urlFormData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1)}),this.addNewLineUrlFormValue()):this.urlFormData.forEach(i=>{i.id==a.id&&(i.content=e,i.new=!1)}),this.initUrlFormSelections(a.id)},urlFormContentEnumChange(e,t){if(s.checkUndefined(t)){var a="";Array.isArray(t)?a=t[0].context.$attrs["data-key"]:a=t.context.$attrs["data-key"],this.urlFormContentUpdate(e,a)}},urlFormContentChange(e){const t=e.target.value,a=e.target.getAttribute("data-key");this.urlFormContentUpdate(t,a)},rawMenuClick({item:e,key:t,keyPath:a}){this.rawMode=e["data-mode"],this.rawRequestType=e["data-mode-type"],this.rawDefaultText=t,this.toggleBeautifyButtonStatus()},beautifyJson(){let e=this.rawText;if(s.strNotBlank(e))try{let t=s.json5stringify(s.json5parse(e));this.rawText=t}catch(t){console.error(t)}},toggleBeautifyButtonStatus(){let e=!1;this.rawFlag&&this.rawMode=="json"&&(e=!0),this.formatFlag=e},sendRestfulApi(e){e.preventDefault();var t=this.validateCommonHeaders();t.validate?this.rawFlag?this.debugSendRawRequest():this.formFlag?this.debugSendFormRequest():this.urlFormFlag&&this.debugSendUrlFormRequest():L.info(t.message)},callChildEditorShow(){this.bigFlag||this.$refs.childDebugResponse.showEditorFieldDescription()},debugHeaders(){var e={},t=this.api;if(t.produces!=null&&t.produces!=null&&t.produces.length>0){var a=t.produces[0];e.Accept=a}return this.headerData.forEach(i=>{if(!i.new){var r=this.rowSelection.selectedRowKeys.filter(n=>n==i.id);r.length>0&&s.strNotBlank(i.name)&&i.name.toLowerCase()!="cookie"&&(s.isChinese(i.content)?e[i.name]=encodeURIComponent(i.content):e[i.name]=s.toString(i.content,""))}}),e["Request-Origion"]="Knife4j",s.checkUndefined(e["Content-Type"])||(this.rawFlag?e["Content-Type"]=this.rawRequestType:this.urlFormFlag?e["Content-Type"]="application/x-www-form-urlencoded":this.formFlag&&(this.validateFormDataContaintsFile()?e["Content-Type"]="multipart/form-data":e["Content-Type"]="application/x-www-form-urlencoded")),s.checkUndefined(this.routeHeader)&&(e["knfie4j-gateway-request"]=this.routeHeader),this.swaggerInstance.desktop&&(e["knife4j-gateway-code"]=this.swaggerInstance.desktopCode),e},debugRawFormParams(){var e={};return this.rawFormData.forEach(t=>{if(!t.new){var a=this.rowRawFormSelection.selectedRowKeys.filter(i=>i==t.id);a.length>0&&s.strNotBlank(t.name)&&(e[t.name]=t.content)}}),e},debugUrlFormParams(){var e={};return this.urlFormData.forEach(t=>{if(!t.new){var a=this.rowUrlFormSelection.selectedRowKeys.filter(i=>i==t.id);a.length>0&&s.strNotBlank(t.name)&&(e[t.name]=t.content)}}),e},debugFormDataParams(e){var t={url:"",params:{}},a=this.debugUrl;if(e){var i=new FormData;this.formData.forEach(n=>{if(!n.new){var d=this.rowFormSelection.selectedRowKeys.filter(p=>p==n.id);if(d.length>0&&s.strNotBlank(n.name)){if(n.type=="text")if(this.debugPathFlag)if(this.debugPathParams.indexOf(n.name)==-1)s.strNotBlank(n.content)&&i.append(n.name,n.content);else{var o="{"+n.name+"}";a=a.replace(o,n.content)}else s.strNotBlank(n.content)&&i.append(n.name,n.content);else if(s.checkUndefined(n.target)){var l=n.target.files;if(l.length>0)for(var u=0;u<l.length;u++)i.append(n.name,l[u])}}}}),t.params=i}else{var r={};this.formData.forEach(n=>{if(!n.new){var d=this.rowFormSelection.selectedRowKeys.filter(l=>l==n.id);if(d.length>0&&s.strNotBlank(n.name))if(this.debugPathFlag)if(this.debugPathParams.indexOf(n.name)==-1)r[n.name]=n.content;else{var o="{"+n.name+"}";a=a.replace(o,n.content)}else r[n.name]=n.content}}),t.params=r}return t.url=a,t},debugStreamFlag(){var e=!1,t=this.api;if(t.produces!=null&&t.produces!=null&&t.produces.length>0){t.produces[0];var a=s.binaryContentType(t.produces,null);e=a.binary}return e},validateCommonHeaders(){for(var e=!0,t="",a=0;a<this.headerData.length;a++){var i=this.headerData[a];if(!i.new){var r=this.rowSelection.selectedRowKeys.filter(n=>n==i.id);if(r.length>0&&s.strNotBlank(i.name)&&i.require&&!s.strNotBlank(i.content)){e=!1,t=this.i18n.validate.header+i.name+this.i18n.validate.notEmpty;break}}}return{validate:e,message:t}},validateFormData(){for(var e=!0,t="",a=0;a<this.formData.length;a++){var i=this.formData[a];if(!i.new){var r=this.rowFormSelection.selectedRowKeys.filter(n=>n==i.id);if(r.length>0&&s.strNotBlank(i.name)&&i.require){if(i.type=="text"){if(!s.strNotBlank(i.content)){e=!1,t=i.name+this.i18n.validate.notEmpty;break}}else if(i.target==null){e=!1,t=i.name+this.i18n.validate.fileNotEmpty;break}}}}return{validate:e,message:t}},validateRawForm(){for(var e=!0,t="",a=0;a<this.rawFormData.length;a++){var i=this.rawFormData[a];if(!i.new){var r=this.rowRawFormSelection.selectedRowKeys.filter(n=>n==i.id);if(r.length>0&&s.strNotBlank(i.name)&&i.require&&!s.strNotBlank(i.content)){e=!1,t=i.name+this.i18n.validate.notEmpty;break}}}return{validate:e,message:t}},validateUrlForm(){for(var e=!0,t="",a=0;a<this.urlFormData.length;a++){var i=this.urlFormData[a];if(!i.new){var r=this.rowUrlFormSelection.selectedRowKeys.filter(n=>n==i.id);if(r.length>0&&s.strNotBlank(i.name)&&i.require&&!s.strNotBlank(i.content)){e=!1,t=i.name+this.i18n.validate.notEmpty;break}}}return{validate:e,message:t}},validateFormDataContaintsFile(){var e=!1;return this.formData.forEach(t=>{if(!t.new){var a=this.rowFormSelection.selectedRowKeys.filter(i=>i==t.id);a.length>0&&t.type=="file"&&(e=!0)}}),e},checkUrlParams(e){var t=e.indexOf("?"),a={result:!1,params:{},url:e};if(t>-1){var i=e.substring(t+1);if(a.url=e.substring(0,t),a.result=!0,s.strNotBlank(i)){var r=i.split("&");r.forEach(n=>{if(s.strNotBlank(n)){var d=n.split("=");d.length==2&&(a.params[d[0]]=d[1])}})}}return a},debugSendHasCookie(e){var t=!1;if(s.checkUndefined(e)){var a=Object.keys(e);if(s.arrNotEmpty(a)){var i=a.filter(n=>n.toLocaleLowerCase()==="cookie").length;if(i>0){var r=e.Cookie;s.strNotBlank(r)&&(document.cookie=r,t=!0)}}}return t},applyRequestParams(e,t){var a=null,i=null;return["post","put","patch"].includes(t.toLowerCase())?s.checkUndefined(e)&&(a=be.stringify(e)):i=e,{data:a,params:i}},debugCheckUrl(e){var t=e;try{var a=new RegExp(".*?({.*?})$","ig");if(a.test(e)){var i=RegExp.$1;t=e.replace(i,"")}}catch(r){window.console&&console.error(r)}return t},debugSendUrlFormRequest(){var e=this.validateUrlForm();if(e.validate){this.debugLoading=!0,this.debugSend=!0;var t=this.debugHeaders(),a=this.debugUrl,i=this.debugMethodType.toLowerCase(),r=this.debugUrlFormParams();if(this.debugPathFlag){const g={};this.debugPathParams.forEach(m=>{var b="{"+m+"}",S=s.getValue(r,m,"",!0);a=a.replace(b,S)});for(var n in r)this.debugPathParams.indexOf(n)==-1&&(g[n]=r[n]);r=g}var d=this.checkUrlParams(a);d.result&&(a=d.url,r=Object.assign(r,d.params));let p="";this.enableHost&&(p=this.enableHostText);var o=this.applyRequestParams(r,i),l={baseURL:p,url:this.debugCheckUrl(a),method:i,headers:t,params:o.params,timeout:0,withCredentials:this.debugSendHasCookie(t),data:o.data};this.oas2?this.debugStreamFlag()&&(l={...l,responseType:"blob"}):l={...l,responseType:"blob"};const v=W.create();v.interceptors.request.use(g=>{let m=g.url;if(g.method==="get"&&g.params){m+="?";let b=Object.keys(g.params);for(let S of b)s.strNotBlank(g.params[S])&&(m+=`${encodeURIComponent(S)}=${encodeURIComponent(g.params[S])}&`);m=m.substring(0,m.length-1),g.params={}}return g.url=m,g});var u=new Date;v.request(l).then(g=>{this.debugLoading=!1,this.handleDebugSuccess(u,new Date,g)}).catch(g=>{this.debugLoading=!1,g.response?this.handleDebugError(u,new Date,g.response):L.error(g.message)})}else L.info(e.message)},debugSendFormRequest(){var e=this.validateFormData();if(e.validate){this.debugLoading=!0,this.debugSend=!0;var t=this.debugHeaders(),a=this.debugUrl,i=this.debugMethodType.toLowerCase(),r=this.validateFormDataContaintsFile(),n=this.debugFormDataParams(r);a=n.url;var d=n.params;let p="";this.enableHost&&(p=this.enableHostText);var o={baseURL:p,url:this.debugCheckUrl(a),method:i,headers:t,timeout:0,withCredentials:this.debugSendHasCookie(t),data:null};if(r)o={...o,data:d};else{var l=this.checkUrlParams(a);l.result&&(a=l.url,d=Object.assign(d,l.params)),o={...o,params:d}}this.debugStreamFlag()&&(o={...o,responseType:"blob"});let v=W.create();var u=new Date;v.request(o).then(g=>{this.debugLoading=!1,this.handleDebugSuccess(u,new Date,g)}).catch(g=>{this.debugLoading=!1,g.response?this.handleDebugError(u,new Date,g.response):L.error(g.message)})}else L.info(e.message)},debugSendRawRequest(){var e=this.validateRawForm();if(e.validate){this.debugLoading=!0,this.debugSend=!0;var t=this.debugHeaders(),a=this.debugUrl,i=this.debugMethodType.toLowerCase(),r=this.rawText,n=this.debugRawFormParams();if(this.debugPathFlag){const v={};this.debugPathParams.forEach(g=>{var m="{"+g+"}",b=s.getValue(n,g,"",!0);a=a.replace(m,b)});for(var d in n)this.debugPathParams.indexOf(d)==-1&&(v[d]=n[d]);n=v}var o=this.checkUrlParams(a);o.result&&(a=o.url,n=Object.assign(n,o.params));let p="";this.enableHost&&(p=this.enableHostText);var l={baseURL:p,url:this.debugCheckUrl(a),method:i,headers:t,params:n,data:r,withCredentials:this.debugSendHasCookie(t),timeout:0};this.debugStreamFlag()&&(l={...l,responseType:"blob"});var u=new Date;W.create().request(l).then(v=>{this.debugLoading=!1,this.handleDebugSuccess(u,new Date,v)}).catch(v=>{this.debugLoading=!1,v.response?this.handleDebugError(u,new Date,v.response):L.error(v.message)})}else L.info(e.message)},executeAfterScript(e){if(s.strNotBlank(this.rawScript)){var t=this.swaggerInstance.id,a=this.swaggerInstance.allGroupIds,i={allgroupids:a,groupid:t,response:{data:e.data,headers:e.headers}},r=new xe(i);try{var n=new Function("ke",this.rawScript);n(r),setTimeout(()=>{r.global.action()},1e3)}catch(d){console.error(d)}}},handleDebugSuccess(e,t,a){this.bigFlag=!1,this.bigBlobFlag=!1,this.setResponseBody(a),this.setResponseHeaders(a.headers),this.setResponseRaw(a),this.setResponseStatus(e,t,a),this.setResponseCurl(a.request),this.callChildEditorShow(),this.executeAfterScript(a),this.storeApiParams()},handleDebugError(e,t,a){this.bigFlag=!1,this.bigBlobFlag=!1,this.setResponseBody(a),this.setResponseHeaders(a.headers),this.setResponseRaw(a),this.setResponseStatus(e,t,a),this.setResponseCurl(a.request),this.callChildEditorShow(),this.storeApiParams()},storeApiParams(){if(this.enableRequestCache){var e={headerData:[],formData:[],urlFormData:[],rawFormData:[],rawText:""},t=T.debugCacheApiId+this.api.id;e.headerData=this.headerData.filter(a=>a.new==!1),e.formData=this.formData.filter(a=>a.new==!1),e.urlFormData=this.urlFormData.filter(a=>a.new==!1),e.rawFormData=this.rawFormData.filter(a=>a.new==!1),e.rawText=this.rawText,e.rawScript=this.rawScript,R.setItem(t,e)}},setResponseHeaders(e){var t=[];if(s.checkUndefined(e))for(var a in e){var i={id:s.randomMd5(),name:a,value:e[a]};t.push(i)}this.responseHeaders=t},setResponseRaw(e){if(s.checkUndefined(e)){var t=e.request;if(e.headers,s.checkUndefined(t)&&t.responseType!="blob"){var a=s.toString(t.responseText,"");this.responseRawText=a}}},setResponseStatus(e,t,a){if(s.checkUndefined(a)){var i=a.request;if(s.checkUndefined(i)){var r="",n=t.getTime()-e.getTime(),d=i.status;if(n>1e3){var o=Math.floor(n/1e3).toFixed(1);r=o+"s"}else r=n+"ms";var l=0;i.responseType=="blob"?l=i.response.size:s.checkUndefined(i.responseText)&&(l=i.responseText.gblen()),this.responseStatus={code:d,cost:r,size:l}}}},setResponseCurl(e){var t=this,a=this.debugCheckUrl(this.debugUrl),i=new Array,r="http",n=window.location.href,d=new RegExp("^https.*","ig");d.test(n)&&(r="https");var o=new RegExp("^(http|https):.*","ig"),l="";o.test(this.api.host)?l=this.api.host:l=r+":// "+this.api.host,this.enableHost&&(l=this.enableHostText),a.startsWith("/")||(l+="/"),l+=a,i.push("curl"),i.push("-X",this.debugMethodType.toUpperCase());var u=this.debugHeaders(),p=[];if(p.push("knfie4j-gateway-request"),p.push("knife4j-gateway-code"),p.push("Request-Origion"),s.checkUndefined(u))for(var v in u)p.includes(v)||(i.push("-H "),i.push('"'+v+":"+u[v]+'"'));if(this.rawFlag){var g=this.debugRawFormParams(),m=[];if(s.checkUndefined(g))for(var b in g)if(t.debugPathFlag)if(t.debugPathParams.indexOf(b)==-1)m.push(b+"="+s.toString(g[b],""));else{var S="{"+b+"}",E=s.toString(g[b],"");l=l.replace(S,E)}else m.push(b+"="+s.toString(g[b],""));var F=m.join("&");if(s.strNotBlank(F)&&(l.indexOf("?")==-1?l=l+"?"+F:l=l+"&"+F),s.strNotBlank(this.rawText))try{var q=JSON.parse(this.rawText),V=JSON.stringify(q).replace(/\\n/g,"").replace(/"/g,'\\"');i.push("-d"),i.push('"'+V+'"')}catch{var V=this.rawText.replace(/\\n/g,"").replace(/"/g,'\\"');i.push("-d"),i.push('"'+V+'"')}}else if(this.urlFormFlag){var O=this.debugUrlFormParams();if(s.checkUndefined(O)){var m=[];for(var b in O)if(t.debugPathFlag)if(t.debugPathParams.indexOf(b)==-1)m.push(b+"="+s.toString(O[b],""));else{var S="{"+b+"}",E=s.toString(O[b],"");l=l.replace(S,E)}else m.push(b+"="+s.toString(O[b],""));var F=m.join("&");s.strNotBlank(F)&&(this.debugMethodType.toLowerCase()=="get"||this.debugMethodType.toLowerCase()=="delete"?l.indexOf("?")==-1?l=l+"?"+F:l=l+"&"+F:(i.push("--data-urlencode "),i.push('"'+F+'"')))}}else if(this.formFlag){var x=this.debugFormCurlParams();if(s.checkUndefined(x))if(this.validateFormDataContaintsFile())this.formData.forEach(N=>{if(!N.new){var K=this.rowFormSelection.selectedRowKeys.filter(J=>J==N.id);K.length>0&&s.strNotBlank(N.name)&&(i.push("-F "),N.type=="text"?i.push('"'+N.name+"="+s.toString(N.content,"")+'"'):i.push('"'+N.name+"=@"+N.content+'"'))}});else{var m=[];for(var b in x)if(t.debugPathFlag)if(t.debugPathParams.indexOf(b)==-1)m.push(b+"="+s.toString(x[b],""));else{var S="{"+b+"}",E=s.toString(x[b],"");l=l.replace(S,E)}else m.push(b+"="+s.toString(x[b],""));var F=m.join("&");s.strNotBlank(F)&&(this.debugMethodType.toLowerCase()=="get"||this.debugMethodType.toLowerCase()=="delete"?l.indexOf("?")==-1?l=l+"?"+F:l=l+"&"+F:(i.push("--data-urlencode "),i.push('"'+F+'"')))}}i.push('"'+encodeURI(l)+'"'),this.responseCurlText=i.join(" ")},debugFormCurlParams(){var e={};return this.formData.forEach(t=>{if(!t.new){var a=this.rowFormSelection.selectedRowKeys.filter(i=>i==t.id);a.length>0&&s.strNotBlank(t.name)&&(e[t.name]=t.content)}}),e},setResponseBody(e){let t=this;if(s.checkUndefined(e)){var a=e.request,i=e.headers;if(s.checkUndefined(a)){var r=s.propValue("content-type",i,""),n=s.propValue("content-disposition",i,"");if(a.responseType=="blob"||s.strNotBlank(n))if(e.data.type=="application/json"||e.data.type=="application/xml"||e.data.type=="text/html"||e.data.type=="text/plain"){const E=new FileReader;E.onload=F=>{let q={responseText:F.target.result,response:F.target.result,responseType:"",status:a.status,statusText:a.statusText,readyState:a.readyState,timeout:a.timeout,withCredentials:a.withCredentials};t.setResponseJsonBody(q,i)},E.readAsText(e.data)}else if(r=="text/html"||r=="text/plain"||r=="application/xml")this.setResponseJsonBody(a,i);else{let E=!1;var d="Knife4j.txt";if(s.strNotBlank(n)||(n=s.propValue("content-disposition",i,"")),s.strNotBlank(n))for(var o=n.split(";"),l=0;l<o.length;l++){var u=o[l];if(u!=null&&u!=""){u.toLowerCase().indexOf("inline")>-1&&(E=!0);var p=u.split("=");if(p!=null&&p.length>0){var v=p[0];if(v!=null&&v!=null&&v!=""&&(v.toLowerCase()=="filename*"||v.toLowerCase()=="filename")){let F=p[1].replace(/\"/g,"");d=decodeURIComponent(F)}}}}var g=!1;if(r.indexOf("image")!=-1)g=!0;else{var m=["bmp","jpg","png","tif","gif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"];m.forEach(F=>{d.endsWith(F)&&(g=!0)})}var b=this.api.produces,S=!1;if(s.arrNotEmpty(b)&&b.forEach(F=>{F.indexOf("image")!=-1&&(S=!0)}),g||(g=S),E)this.setResponseJsonBody(a,i);else{let F="";try{F=window.URL?window.URL.createObjectURL(e.data):window.webkitURL.createObjectURL(e.data)}catch(q){window.console&&window.console.error(q);let V=[].concat(e.data),O=new Blob(V);F=window.URL?window.URL.createObjectURL(O):window.webkitURL.createObjectURL(O)}this.responseContent={text:"",mode:"blob",blobFlag:!0,imageFlag:g,blobFileName:d,blobUrl:F,base64:""}}}else this.setResponseJsonBody(a,i)}}},setResponseJsonBody(e,t){var a="",i="",r=this.getContentTypeByHeaders(t);if(r=="json"){var n=e.responseText.gblen(),d=(n/1024).toFixed(1),o=150;if(this.bigBlobFlag=d>300,d>o){this.bigFlag=!0;var l=this.i18n.message.debug.contentToBig;L.info(l),r="text"}else if(s.strNotBlank(e.responseText))try{a=s.json5stringify(s.json5parse(e.responseText))}catch{a=e.responseText,r="text"}if(s.strNotBlank(e.responseText)&&!this.bigFlag&&e.responseText.indexOf("data:image")>-1){var u=new RegExp('.*?"(data:image.*?base64.*?)".*',"ig");if(u.test(e.responseText)){var p=RegExp.$1;i=p}}}else if(r=="xml"){var v=e.responseText;s.strNotBlank(v)?a=new B().xml(v):a=v}else a=e.responseText;this.responseContent={text:a,mode:r,blobFlag:!1,imageFlag:!1,blobFileName:"",blobUrl:"",base64:i}},debugEditorChange(e){s.checkUndefined(this.responseContent)&&(this.responseContent.text=e)},getContentTypeByHeaders(e){var t="json",a=s.propValue("Content-Type",e,"");return s.strNotBlank(a)||(a=s.propValue("content-type",e,"")),s.strNotBlank(a)&&(a.indexOf("json")>=0?t="json":a.indexOf("xml")>=0?t="xml":a.indexOf("text/html")>=0?t="html":t="text"),t},debugShowFieldDescriptionChange(e){this.responseFieldDescriptionChecked=e}}},Pe=e=>(Ee("data-v-5f8a3c67"),e=e(),Re(),e),Oe={class:"knife4j-debug"},qe={class:"spin-content"},Be={key:0,class:"knife4j-api-summary-method"},Le={class:"knife4j-debug-request-type"},Ve={class:"knife4j-debug-request-content-type-float"},Ae={class:"knife4j-debug-request-content-type-float"},Me={class:"knife4j-debug-request-content-type-raw"},je={class:"knife4j-debug-raw-span"},He={key:0,class:"knife4j-debug-request-content-type-beautify"},Ke={key:0},Je={key:1},Ge={key:0,style:{display:"none"}},We=["id","data-key"],ze={key:1,style:{display:"none"}},Ye=["id","data-key"],Xe=Pe(()=>_("a",{href:"https://gitee.com/xiaoym/knife4j/wikis/AfterScript",target:"_blank"},"参考文档",-1));function Qe(e,t,a,i,r,n){const d=M("UnlockOutlined"),o=te,l=ae,u=ie,p=re,v=ne,g=se,m=le,b=oe,S=de,E=ue,F=he,q=fe,V=me,O=M("DownOutlined"),x=ce,N=pe,K=ge,J=M("editor-debug-show"),Q=M("editor-script"),Z=we,$=M("DebugResponse"),ee=ve;return w(),I("div",Oe,[c(ee,{tip:"Loading...",spinning:r.debugLoading},{default:h(()=>[_("div",qe,[c(m,null,{default:h(()=>[c(g,{class:A("knife4j-debug-api-"+r.debugMethodType.toLowerCase()),span:24},{default:h(()=>[c(v,{compact:""},{default:h(()=>[a.api.securityFlag?(w(),I("span",Be,[c(d,{style:{"font-size":"16px"}})])):D("",!0),c(u,{style:Te(r.debugUrlStyle),value:r.debugUrl,onChange:n.debugUrlChange},{addonBefore:h(()=>[c(l,{value:r.debugMethodType,"onUpdate:value":t[0]||(t[0]=k=>r.debugMethodType=k),style:{width:"110px"}},{default:h(()=>[c(o,{value:"GET"},{default:h(()=>[y("GET")]),_:1}),c(o,{value:"POST"},{default:h(()=>[y("POST")]),_:1}),c(o,{value:"PUT"},{default:h(()=>[y("PUT")]),_:1}),c(o,{value:"PATCH"},{default:h(()=>[y("PATCH")]),_:1}),c(o,{value:"DELETE"},{default:h(()=>[y("DELETE")]),_:1}),c(o,{value:"COPY"},{default:h(()=>[y("COPY")]),_:1}),c(o,{value:"HEAD"},{default:h(()=>[y("HEAD")]),_:1}),c(o,{value:"OPTIONS"},{default:h(()=>[y("OPTIONS")]),_:1}),c(o,{value:"LINK"},{default:h(()=>[y("LINK")]),_:1}),c(o,{value:"UNLINK"},{default:h(()=>[y("UNLINK")]),_:1}),c(o,{value:"PURGE"},{default:h(()=>[y("PURGE")]),_:1})]),_:1},8,["value"])]),_:1},8,["style","value","onChange"]),c(p,{class:"knife4j-api-send",type:"primary",onClick:n.sendRestfulApi},{default:h(()=>[y(P(e.$t("debug.send")),1)]),_:1},8,["onClick"]),i.enableReloadCacheParameter?(w(),C(p,{key:1,onClick:n.reloadCacheParameter},{default:h(()=>[y("刷新变量")]),_:1},8,["onClick"])):D("",!0),c(p,{onClick:n.resetCacheParameter},{default:h(()=>[y("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["class"])]),_:1}),c(m,{class:"knife4j-debug-tabs"},{default:h(()=>[c(Z,{defaultActiveKey:"2"},{default:h(()=>[c(F,{key:"1"},{tab:h(()=>[_("span",null,[r.headerCountFlag?(w(),C(b,{key:0,color:"red",class:"knife4j-debug-param-count"},{default:h(()=>[y(P(r.headerCount),1)]),_:1})):D("",!0),_("span",null,P(e.$t("debug.headers")),1)])]),default:h(()=>[r.headerTableFlag?(w(),C(E,{key:0,bordered:"",size:"small",rowSelection:r.rowSelection,columns:r.headerColumn,pagination:r.pagination,dataSource:r.headerData,rowKey:"id"},{bodyCell:h(({column:k,record:f})=>[k.dataIndex==="name"?(w(),C(S,{key:0,onSelect:U=>n.headerSelect(U,f),"data-id":f.id,onSearch:n.headerSearch,onChange:U=>n.headerNameChange(f),value:f.name,filterOption:n.headerNameFilterOption,allowClear:r.allowClear,dataSource:r.headerAutoOptions,style:{width:"100%"},placeholder:e.$t("debug.tableHeader.holderName")},null,8,["onSelect","data-id","onSearch","onChange","value","filterOption","allowClear","dataSource","placeholder"])):k.dataIndex==="content"?(w(),I(j,{key:1},[f.enums!=null?(w(),C(m,{key:0},{default:h(()=>[c(l,{mode:f.enumsMode,defaultValue:f.text,"data-key":f.id,options:f.enums,style:{width:"100%"},onChange:n.headerContentEnumChnage},null,8,["mode","defaultValue","data-key","options","onChange"])]),_:2},1024)):(w(),C(m,{key:1},{default:h(()=>[c(u,{placeholder:e.$t("debug.tableHeader.holderValue"),class:A("knife4j-debug-param-require"+f.require),"data-key":f.id,defaultValue:f.content,onChange:n.headerContentChnage},null,8,["placeholder","class","data-key","defaultValue","onChange"])]),_:2},1024))],64)):(w(),C(m,{key:2},{default:h(()=>[f.new?D("",!0):(w(),C(p,{key:0,type:"link",onClick:U=>n.headerDelete(f)},{default:h(()=>[y(P(e.$t("debug.tableHeader.holderDel")),1)]),_:2},1032,["onClick"]))]),_:2},1024))]),_:1},8,["rowSelection","columns","pagination","dataSource"])):D("",!0)]),_:1}),c(F,{tab:e.$t("debug.params"),key:"2",forceRender:""},{default:h(()=>[_("div",Le,[_("div",Ve,[c(V,{onChange:n.requestContentTypeChange,class:"knife4j-debug-request-content-type",value:r.requestContentType,"onUpdate:value":t[1]||(t[1]=k=>r.requestContentType=k)},{default:h(()=>[c(q,{value:"x-www-form-urlencoded"},{default:h(()=>[y("x-www-form-urlencoded")]),_:1}),c(q,{value:"form-data"},{default:h(()=>[y("form-data")]),_:1}),c(q,{value:"raw"},{default:h(()=>[y("raw")]),_:1})]),_:1},8,["onChange","value"])]),_("div",Ae,[_("div",Me,[r.rawTypeFlag?(w(),C(K,{key:0},{overlay:h(()=>[c(N,{onClick:n.rawMenuClick},{default:h(()=>[c(x,{"data-mode-type":"application/json","data-mode":"text",key:"Auto"},{default:h(()=>[y("Auto")]),_:1}),c(x,{"data-mode-type":"text/plain","data-mode":"text",key:"Text(text/plain)"},{default:h(()=>[y(" Text(text/plain)")]),_:1}),c(x,{"data-mode-type":"application/json","data-mode":"json",key:"JSON(application/json)"},{default:h(()=>[y(" JSON(application/json)")]),_:1}),c(x,{"data-mode-type":"application/javascript","data-mode":"javascript",key:"Javascript(application/Javascript)"},{default:h(()=>[y("Javascript(application/Javascript)")]),_:1}),c(x,{"data-mode-type":"application/xml","data-mode":"xml",key:"XML(application/xml)"},{default:h(()=>[y(" XML(application/xml)")]),_:1}),c(x,{"data-mode-type":"text/xml","data-mode":"xml",key:"XML(text/xml)"},{default:h(()=>[y("XML(text/xml) ")]),_:1}),c(x,{"data-mode-type":"text/html","data-mode":"html",key:"HTML(text/html)"},{default:h(()=>[y("HTML(text/html) ")]),_:1})]),_:1},8,["onClick"])]),default:h(()=>[_("span",je,[_("span",null,P(r.rawDefaultText),1),c(O)])]),_:1})):D("",!0)])]),r.formatFlag?(w(),I("div",He,[_("a",{onClick:t[2]||(t[2]=(...k)=>n.beautifyJson&&n.beautifyJson(...k))},"Beautify")])):D("",!0)]),r.formFlag?(w(),C(m,{key:0},{default:h(()=>[r.formTableFlag?(w(),C(E,{key:0,bordered:"",size:"small",rowSelection:r.rowFormSelection,columns:r.formColumn,pagination:r.pagination,dataSource:r.formData,rowKey:"id"},{bodyCell:h(({column:k,record:f})=>[k.dataIndex=="name"?(w(),C(u,{key:0,placeholder:f.description,"data-key":f.id,defaultValue:f.name,onChange:n.formNameChange},null,8,["placeholder","data-key","defaultValue","onChange"])):k.dataIndex=="type"?(w(),C(l,{key:1,defaultValue:f.name+"-"+f.id,onChange:n.formTypeChange,style:{width:"100%"}},{default:h(()=>[c(o,{value:"text-"+f.id},{default:h(()=>[_("span",null,P(e.$t("debug.form.itemText")),1)]),_:2},1032,["value"]),c(o,{value:"file-"+f.id},{default:h(()=>[_("span",null,P(e.$t("debug.form.itemFile")),1)]),_:2},1032,["value"])]),_:2},1032,["defaultValue","onChange"])):k.dataIndex=="content"?(w(),I(j,{key:2},[f.type=="text"?(w(),I("div",Ke,[f.enums!=null?(w(),C(m,{key:0},{default:h(()=>[c(l,{mode:f.enumsMode,defaultValue:f.content,"data-key":f.id,options:f.enums,style:{width:"100%"},onChange:n.formContentEnumChange},null,8,["mode","defaultValue","data-key","options","onChange"])]),_:2},1024)):(w(),C(m,{key:1},{default:h(()=>[c(u,{placeholder:f.description,class:A("knife4j-debug-param-require"+f.require),"data-key":f.id,defaultValue:f.content,onChange:n.formContentChange},null,8,["placeholder","class","data-key","defaultValue","onChange"])]),_:2},1024))])):(w(),I("div",Je,[_("div",null,[f.multipart?(w(),I("div",Ge,[_("input",{id:"file"+f.id,multiple:"",style:{display:"none"},type:"file","data-key":f.id,onChange:t[3]||(t[3]=(...U)=>n.formFileChange&&n.formFileChange(...U))},null,40,We)])):(w(),I("div",ze,[_("input",{id:"file"+f.id,style:{display:"none"},type:"file","data-key":f.id,onChange:t[4]||(t[4]=(...U)=>n.formFileChange&&n.formFileChange(...U))},null,40,Ye)])),c(v,{compact:""},{default:h(()=>[c(u,{style:{width:"80%"},class:A("knife4j-debug-param-require"+f.require),value:f.content,disabled:""},null,8,["class","value"]),c(p,{onClick:U=>n.formFileUploadClick(f),class:"knife4j-api-send",style:{width:"80px"},type:"primary"},{default:h(()=>[y(P(e.$t("debug.form.upload")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]))],64)):(w(),I(j,{key:3},[f.new?D("",!0):(w(),C(p,{key:0,type:"link",onClick:U=>n.formDelete(f)},{default:h(()=>[y(P(e.$t("debug.tableHeader.holderDel")),1)]),_:2},1032,["onClick"]))],64))]),_:1},8,["rowSelection","columns","pagination","dataSource"])):D("",!0)]),_:1})):D("",!0),r.urlFormFlag?(w(),C(m,{key:1},{default:h(()=>[r.urlFormTableFlag?(w(),C(E,{key:0,bordered:"",size:"small",rowSelection:r.rowUrlFormSelection,columns:r.urlFormColumn,pagination:r.pagination,dataSource:r.urlFormData,rowKey:"id"},{bodyCell:h(({column:k,record:f})=>[k.dataIndex=="name"?(w(),C(u,{key:0,placeholder:f.description,"data-key":f.id,defaultValue:f.name,onChange:n.urlFormNameChange},null,8,["placeholder","data-key","defaultValue","onChange"])):k.dataIndex=="content"?(w(),I(j,{key:1},[f.enums!=null?(w(),C(m,{key:0},{default:h(()=>[c(l,{mode:f.enumsMode,defaultValue:f.type,"data-key":f.id,options:f.enums,style:{width:"100%"},onChange:n.urlFormContentEnumChange},null,8,["mode","defaultValue","data-key","options","onChange"])]),_:2},1024)):(w(),C(m,{key:1},{default:h(()=>[c(u,{placeholder:f.description,class:A("knife4j-debug-param-require"+f.require),"data-key":f.id,defaultValue:f.content,onChange:n.urlFormContentChange},null,8,["placeholder","class","data-key","defaultValue","onChange"])]),_:2},1024))],64)):(w(),C(m,{key:2},{default:h(()=>[f.new?D("",!0):(w(),C(p,{key:0,type:"link",onClick:U=>n.urlFormDelete(f)},{default:h(()=>[y(P(e.$t("debug.tableHeader.holderDel")),1)]),_:2},1032,["onClick"]))]),_:2},1024))]),_:1},8,["rowSelection","columns","pagination","dataSource"])):D("",!0)]),_:1})):D("",!0),r.rawFlag?(w(),C(m,{key:2},{default:h(()=>[r.rawFormFlag?(w(),C(m,{key:0},{default:h(()=>[r.rawFormTableFlag?(w(),C(E,{key:0,bordered:"",size:"small",rowSelection:r.rowRawFormSelection,columns:r.urlFormColumn,pagination:r.pagination,dataSource:r.rawFormData,rowKey:"id"},{urlFormName:h(({text:k,record:f})=>[c(u,{placeholder:f.description,"data-key":f.id,defaultValue:k,onChange:n.rawFormNameChange},null,8,["placeholder","data-key","defaultValue","onChange"])]),urlFormValue:h(({text:k,record:f})=>[f.enums!=null?(w(),C(m,{key:0},{default:h(()=>[c(l,{mode:f.enumsMode,defaultValue:k,"data-key":f.id,options:f.enums,style:{width:"100%"},onChange:n.rawFormContentEnumChange},null,8,["mode","defaultValue","data-key","options","onChange"])]),_:2},1024)):(w(),C(m,{key:1},{default:h(()=>[c(u,{placeholder:f.description,class:A("knife4j-debug-param-require"+f.require),"data-key":f.id,defaultValue:k,onChange:n.rawFormContentChange},null,8,["placeholder","class","data-key","defaultValue","onChange"])]),_:2},1024))]),operation:h(({text:k,record:f})=>[c(m,null,{default:h(()=>[f.new?D("",!0):(w(),C(p,{key:0,type:"link",onClick:U=>n.rawFormDelete(f)},{default:h(()=>[y(P(e.$t("debug.tableHeader.holderDel")),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:1},8,["rowSelection","columns","pagination","dataSource"])):D("",!0)]),_:1})):D("",!0),c(J,{style:{"margin-top":"5px"},value:r.rawText,"onUpdate:value":t[5]||(t[5]=k=>r.rawText=k),mode:r.rawMode},null,8,["value","mode"])]),_:1})):D("",!0)]),_:1},8,["tab"]),i.enableAfterScript?(w(),C(F,{key:"3",tab:"AfterScript"},{default:h(()=>[c(m,{style:{height:"25px","line-height":"25px"}},{default:h(()=>[y(" 关于AfterScript更详细的使用方法及介绍,请"),Xe]),_:1}),c(m,null,{default:h(()=>[c(Q,{style:{"margin-top":"5px"},value:r.rawScript,"onUpdate:value":t[6]||(t[6]=k=>r.rawScript=k)},null,8,["value"])]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1}),_("div",null,[c($,{ref:"childDebugResponse",responseFieldDescriptionChecked:r.responseFieldDescriptionChecked,swaggerInstance:a.swaggerInstance,api:a.api,onDebugShowFieldDescriptionChange:n.debugShowFieldDescriptionChange,onDebugEditorChange:n.debugEditorChange,debugSend:r.debugSend,responseContent:r.responseContent,responseCurlText:r.responseCurlText,responseStatus:r.responseStatus,responseRawText:r.responseRawText,responseHeaders:r.responseHeaders},null,8,["responseFieldDescriptionChecked","swaggerInstance","api","onDebugShowFieldDescriptionChange","onDebugEditorChange","debugSend","responseContent","responseCurlText","responseStatus","responseRawText","responseHeaders"])])])]),_:1},8,["spinning"])])}const Na=ye(Ie,[["render",Qe],["__scopeId","data-v-5f8a3c67"]]);export{Na as default};
